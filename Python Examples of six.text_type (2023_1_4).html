<html style><!--
 Page saved with SingleFile 
 url: https://www.programcreek.com/python/example/6451/six.text_type 
 saved date: Wed Jan 04 2023 14:21:14 GMT+0800 (中国标准时间)
--><meta charset=utf-8><title>Python Examples of six.text_type</title><style>:root{--sf-img-5: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsSAAALEgHS3X78AAAD2klEQVRIx8WWX2gcRRzHZ/cutgq+FXxSfBIpFErRQh+KVPpeBR8EsQX1raUFC1JjejO5y2U3R2ybhrtrU+of7B+SmpZaq6ZUEWvN3e0muZamCS15UPBBnyvcn935+Z2dyXXvkjRCAi78+M3O7f0+8535/WaGsSc8NCVanjxjfszHzeOtdvQf4x8/eYexgrPYttFOtFnetegut+sVYePPNiDax83jtvS5/g1t8nuicBLwpU/BZev5kP9xJ6BN0VYAdz0zMrjz6dODOzcUnd0sm3uB7vAtoSfGMWIPCiYx6hJ8ScY8rAz7Fe9vRWr8tEVeqkNJAVOm2/fYhQKxUwPERnLEvszTa1/1/0FV/hc9yBHdyxLN9ncY+uZdojnYwwECrE4+36RVcasD5NpG0W/WmU/pze8v1/ZcH2uyE07j/XEEuyuoURFNjDaIG4IGNNUb1CYOBvWJg02qpAiqb8pSakME8sQKioazpU3ni/Tzn78H3yzMSzaco3dG+0IoChueUEEkALRoABFA1PjpsKxd3y/DW0fQ35tRoYKbhzsyLw7KOyV29hi9fvVCsOvKOcmGHNo7mpUASShSwdtALdhMGqr7JU33hvRgAP2820xdYqU1ikBsKB2wkxliJ116dxRrUOVkQEsh8GHpqGz8+KGUpZ6mWjf0p83UJQBbWZFdHAieKrr/DTQF0OQn8p/xD8LgxiECbI6qfc/rOhL2kxUV3CBZcFYFxVVRNSOxXmr61NTdIj/1bHvmrQGkIAYkw8kekuWjSJyMLgOPv6Snj9urgaQB6WSIso4vnwzTaap9d0A+uvSeDH/5SPVHlRpOdltUEcvUUcG5zUYGFagGUJMNuY19Y9nQgDRE+0WglBoeeYmkgCr1fqx+e5vZilLLgdz77OIpYp8dp8QXJ4idHaa3L7lRwWJTlTFFca8LVxdxU9UVzTlK/ctmY41PnasXLO86sG+RfWNQN4r2D11F5xBVU6fpYU4tciM2bXrh75ttSJlamwgirsmyWGZ30JBVdmN+g+ajIIBBgQrs868B3Iy+HfDb8b4d7VdkmW80kCV73WIbZ5CbVGYVnCSSIdl9pa9L/dSYFV0IVIpG7It6NHpfVFcamDSQpYo6FczgtKy0TsuEOWmfQ3uB7mQUJEQQbKRiiwnY1ToYTfBVIW1A8zFGmDTvuw2oaVS9agZjr+2knOH6jjCl9yxa4BaCTkfZNRsV5o72wlzTsQzQdHQpSZjEOE5/Dys1j2Avmm+sdbwH6OmB34bLyAT8G6ZWLKqKdYKYq5dsO57RXxZs3Z/YnU2tU7Kl8HPRGsj//vwLwX8r93FkpaIAAAAASUVORK5CYII=");--sf-img-6: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsSAAALEgHS3X78AAADxklEQVRIx72WTWgUSRiGq7snKyyuuot3WRRZUFgQBEVPu7IIInjX9aAnUQQPsqBxuidx0uPPZkziTJRZPYgi/kTxb0RdJSAkmRk7o8muxp8VPIhHL4JOT3d9vtVVNfZo4moMFnxUdXV3Pf1+9VZVM/YZhe44qrajNlXkNVf1lBU9MGqDV2wTQJMPK5g3RTDytBrHaOq/bLMpLxwKVOqWAegh1kfXZcegYWdq1IiBMKClVB2kF10EoI/2PPkRjvllkKotAI05oBHHAmAUcKJ/0kQVe4mat8mDeNVpOAoDJZTD1tDobqhx6hHojr1YqTQnDynbGmKpFM7FgC/obpsAcfT7iIXqmRaos5BCSxtGLwdZ8hkZsm0iLJZ3LRPBshnrULG9RdwKq84MfP2/dL9DQGpKTWli42jY+67UsHFKqT/VghcG6UGHNkAo58e5gPZyKFmFeiXqlah/Iy8188OlEClyZUfO7UWUcX3LQLBcxvv+sNtGd+2T9GiPUCIgpCKke+0U9T/MvIvH4jl7gFeS3ylFCpZ3ZcokdJSdyBP7609KHM0SKxygdX14eTRFtTIGlgCuQigSfT52iXpkDi9Vi+5JtfPl3NlmfI40aIAV9hNU1RJ5t866MvX1p9MhFIV+pTE4j6kiQGRdTvJwYAcPh1rFM0k5T7sMsTTiqdOgIXakk1AHAHHWnaHfT6U5QBwgaijRAUgEGm6jN8Ut/NXZDTy8/Ye4l725Vm/Eyf8FkQIRQOSXY4CYmoai0i7RhnrM25grPuInue6aUjc5UCx1HKric3eOl5xp8R2/GZRzI5DZuyf4pjfzSYpgAAoHd/JXZzaEwfWtxIdax6jaPqfZCBMp6moLWHf7p4Fk2ni9f7swRF3YHf1ZZe3EhIqMI1lac7UvWH3lNGdd7sfNoGFVbEkjeM5LaWtvjm9dH9q7Jz00+0Qv9T9/Flz8b4yznr209tRube/mNRRLXe3GNv764iYeCMd5qVZpgiSsbbPxQTl3UCzWXy+c9H85fzxkB9xgY58bLVikzo8WZUUF2tFC9VJ1gOr+39t8KifFruABMl0dlPEtyI3PUZUd6yF2MA3ndRA72k1Lj3Xcp3v2U3qyj+iBK637fjzeK7eip/uEypf4kFn632L83TvnzkX75xmFzoXTC50Lvj3kLmI79/9AI/aPYcUpwEXXoOQKooivLWLQYtSu2DouIVbo3ZtK4/1PfGT3/uyzbHgigEifbBvqTDJFOg2R0p6MAUVGAAeJUxZzIA62RFNE/Y6F0zfB1ZGOd2KL9SuWt+zDG4z9dUdRAAAAAElFTkSuQmCC");--sf-img-7: url("data:image/webp;base64,UklGRloCAABXRUJQVlA4WAoAAAAQAAAAGQAAGQAAQUxQSCQBAAANkKpt2yIoz/fPv7u4u7u7NOtQ9xxwqTqQqFCpEt2TayK5RnfX+b83jDCcQURMAP83GODWyGtcAGpUv2BgQdfj/nvGFVayv/uPmIDgh0dF6PkLIpUd67e8NQF86fc70yQKo1LxWheiHIgKTqesJOMWzY1ak+e+N0s1VrIKmYcev2hXHQ+voVYMzczXfDa1oOC27NnLOpkwWckU2I0lgJQV5tEUhAkMDfwkygPpwkAKAgfFrecfBkecjD/U//ysNX+jKQQwznThILbdgc/c7171N8Sjef+E98AEkBlgf1fny/5kU059BjCnnAQo+9W9b4bPDXc6Ei4ap/g8P+Cd8Vfi3wsuDFpKLGgzK66u/P4FtSEODT+IeRtut7eBaFWWudOyEk0BVlA4IBABAACQBgCdASoaABoAPmUqkUWkIqGYBgBABkS2AE6Zjjx7wDiENAu6q/Jd5gJUiK7nUO7GE96ToHhl+Fr1a5KAAP5w8g+3196ab87/UBpfEDCxNiG06SPCUyLOhdI7w6XAvIAfz1JWziuRs1D3HnzG//VDVIQ6V0d/zl+ilGar0N9V0//uT6ix0Lrk98JPrf863CiUzO0RXv5lPfrEtSyuXv+AgP+L77HT0Eo9/qbl//7qv/97Av/96eRJjFdlt4f8KXVZkTqSK5SeiA6//NsUbVJ5Cv6ec5sc3v/xfKE20LjOaPO7qtBd7+sAoL//8De/qh3PfsQ/7hXn/pTzlmvmte6US7mcD3pxLgFKLXsd+slgAA==");--sf-img-8: url("data:image/webp;base64,UklGRh4CAABXRUJQVlA4WAoAAAAQAAAAGQAAGQAAQUxQSAIBAAABkJtte6o3ryQz2wswM3PJ7Am8gFdgL8DsAdxhGEtmTpU2ZeoD+t7i6P8vJRNExATgf1Va+1LwrjH8fgnKi8EBwxpoHzBfyQEvGVhkxF4fBtV/KGELMo1RKbQxxmSi6DsDvoZTudyZLxla3ozMTE6OF0MBUDh+8/z5+60LhqSl80UhFKDxlU5LEdowigJhHXTiBYMoslYoTIpwDQqJV4yFIhSm2kbSwfQt2QDtQ0R4mQ14sfxVDu2HEbeRkUooQnFQhMsw6VhLkYQIV6DgeMnQxmQYuUO+L4ByfCTJH7+Z5t8SB1Dd3tLcVVZ5/ujefeedUSj8c6W11kqZDJORNBk6lXdWUDgg9gAAALAGAJ0BKhoAGgA+bS6TRqQioaEwGAgAgA2JbACuVY3+AWiz2gX6BvMwJlijBUjn1VykMLbLMM4h2y+0Wp1AAP7+9l3/bbCAA3PvrcHhxrAC3cVwq75E/IQMjSgIg0NAuex2qaZhTvJrO7Sf//HnmnndzcWZ/05feudOyLmF6XOYf9DJ6hM/o3+hw8AVt/968la1T+TALbbo2oXb+7iwZaqmXDzO4aWYWCxhAAawvTRkcXyyB15VbvuKZUA7ZYFf3XrrWM3QpLnV+mzf/Sg2G+s0t0+Vm3NvkYWIdF/eBEqj0KmP1p//+cUINpUCuPPLbK0IfLDIAA==");--sf-img-3: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAASCAYAAAAuXUKzAAAEZElEQVR4AWLABuKXqRgD2q+HIMuSLwDjp9y2bdu2bXPzN8fTtm3btm3btu0unfmiIxcZGVHv3Zp1L37Fxy9unpeJwdiDO7iPY5iCehD/vnP/kA5zoZZIhEMte1EG4s33uPlwHYqXGIxKyIwMKIH/4hIUn9EGEhtVKpYNQRvMxx5sxgDkhbhQFM08qI4AiCM+OmIB9mALhqEYxIUg1EEzoyzEhVC0whzsxjaMtm//7QtvOj1uQbEemSExiI+BUISjRizCFsQRqAsf0RvimA314CoCIZZKuAB1IQKTEQdiiYdnUGMLxFEcx6EuRGM+UoiJu8QKGwJxpIQ4ekJxHQk9hM2BB1A/BkMsU6EenHHiVsAHqB+rEeLEvQM11kAsRfAc6scC4Y2XRjSeITXE8X+8xEKEQiyrofifn7DB2AW1nMUsrMUnqKUmxJjp4wpRyxUrbhLchFo+4yQuQB3dPMaNi1PuCjB/Owc1TiO/8ObHQNEH4siEp1AjLcTIgj1QnECQj7g1oEYU3OWf34mxGwEQ5EY1SyU0xkOoZZJ1n/9DLSdREIJgNMILqPEMST3EbQu1XEZpBCAQdbEIKSHCmz8ORXGIpSVe4DUOoRvEaI93eGl8RTYfcUdCjedoiSZojmaoj3lQ4xMyQWKwHGpZ5CztnVDjDbJDHF2glgYe4q6CGl9QEhITMQE/IRUEiTANit3IBTGSYR4UW5AZm6Ao7yPuemgsVYA4QrEWalnjhA1zVsEmCFwJ8ARq9PATN9AZKQch/uK+xTsEoSKuQfErxFIbd6D4AWJshKKSj7hboLFUDWIJwVKoZaOJIT5m5hIIXCG4DTX6+4kbjCtQY4uXuFfxBbOguGAdENLhZ0y2ZmsxiBGIC1AU9BF3FtR4ir4YZOmHbuiDgRiE9BAjEPOglp1IAHEE4gTUuIUwiKMUwqFGFw9jYa8zp5P7i7sEaoxGfIixzvlfHIglDyLxAPF9xO3q7GerQRxVEB/iCMI0Z5ewGeLDOKhlNMSSDPuhxldk9xC3O9QyyxlJSdHSjtsGiosQxyIo7iAM4hgBxUQ/W7Hkzqf7FxOgEf5qbW9eYRcKQYxfoJZwTER39LH8DQEQFMBXqGUf+mAYrkMtyz1uxTLhLdRyHP0wGJegGIUgMVfjRXeWGknREXkgjgr4gs/I7+EQ0RrqwTmkgBizoB7cRCDE6Ab14BGyeooL/BXqwSQxJ7SaiIbi7xA/KuApFD1jcfz9rzPnXIeRHmKZBvXgnB3XGAT14QaKQ5y496DGOojjV0RCY/AA9c2NvwX+B9RYiLIIgVhyYSDCoZiDQIhXZou1Ao/wFR9wBt0QH+KYhAgPTrpxjTpYiyf4io+4iEFIBXHjmugRxkoIXJWwDA/wFZ9wBaOQEWJuCJj5+wBqXMMGrMFJREERjj4IgPwZ5oiaB5kRBIlBWuT3IDvEh6TIgywIgcQgEDmR38gI8SExciObuysR98bmiNsPl/ER4cZnPMQ0FIV859sf+1DM6gR487AAAAAASUVORK5CYII=")}html,body{background-color:#fff;font-size:11pt;padding:0;margin:0 auto;width:100%;min-width:1140px;font-family:arial,sans-serif;line-height:1.5;color:#333}*{list-style-image:none;list-style-position:outside;list-style-type:none;margin:0;padding:0}#header{background-color:#02427a;margin:0 auto;color:#fff;position:fixed;top:0;width:100%}#header-center{height:30px;padding:0;margin:0 auto;width:100%}#top-logo{float:left;margin-left:20px;margin:0;padding:1px;overflow:hidden;height:28px}ul#navigation{float:left;margin-left:20px;list-style-type:none;margin:0;padding:0;overflow:hidden;height:30px}ul#language-nav{float:right;margin-right:20px;list-style-type:none;margin:0;padding:0;overflow:hidden;height:30px}#navigation li a{display:block;color:#fff;text-align:center;padding:5px 10px;text-decoration:none}#language-nav li a{display:block;color:#fff;text-align:center;padding:5px 10px;text-decoration:none;border-radius:0;background-color:#035842}#navigation li a:hover,#login li a:hover{background-color:#035ba8;text-decoration:none}#language-nav li a:hover{background-color:#03ad81;text-decoration:none}#navigation li,#language-nav li{float:left}.dropbtn{background-color:#02427a;color:#fff;padding:6px 10px 4px;border:none;height:30px;font-size:11pt}.dropdown{position:relative;display:inline-block}.dropdown:hover .dropbtn{background-color:#3e8e41}.main-title{text-align:center;margin:50px 0 20px}.title_font{color:#0467b8}a{color:#3572b0;text-decoration:none}h1{font-size:26px;font-weight:400;line-height:1.25}#content{margin:0 auto;padding:5px;width:1140px}#main{padding:2px;width:830px;margin-top:10px}#sidebar-example{margin-top:10px;display:inline;float:right;line-height:1.5em;font-size:15px;color:#424345;width:300px}#footer{clear:both;color:#707070;font-size:12px;line-height:1.66667;margin-top:90px;min-height:44px;padding:0 10px 21px;text-align:center;width:100%}.highlight{background-color:#f4f794;border:1px solid #cef720;border-radius:3px;padding:2px;font-family:courier new,Courier,monospace}.examplebox{padding:0;word-wrap:break-word;border:1px solid #d8d8d8;border-radius:3px;width:100%;margin-top:10px;margin-bottom:20px;background-color:#fff}.exampleboxheader{font-size:13px;border-bottom:1px solid #d8d8d8;background-color:#f7f7f7;width:100%;margin-bottom:2px}.exampleboxbody{width:100%}.vote{padding-bottom:2px}.click_button{padding:3px;color:#555;cursor:hand;background-color:#f7f7f7}.click_button:hover{border:1px solid #333;background-color:#dcdede}#index_page_top_text_box{margin-bottom:10px;margin-top:30px;border:1px solid #c2c0c0;padding:10px;background-color:#f7f9fc;font-size:16px;font-family:Candara,Calibri,Segoe,segoe ui,Optima,Arial,sans-serif;border-radius:5px}.sidebarbox{border:1px solid #d8d8d8;border-radius:3px;padding:0;word-wrap:break-word;background-color:#fff}.sidebarbox li{list-style-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKBAMAAAB/HNKOAAAAG1BMVEX///+RyK59vZ+JuIFxsXVEoXQ0mGgeiVIQhk2er9BdAAAALklEQVR42mNgQAaMoQIMDAxixokMDAwpDG4MDAzNDBYMDAwaxk0MDAxMFQooqgFwcQPtks1HxwAAAABJRU5ErkJggg==)}.sidebarboxheader{font-size:17px;padding:5px 0 5px 10px;border-bottom:1px solid #d8d8d8;background-color:#f7f7f7}.sidebarboxbody{margin:2px 0 0 18px;padding:5px}.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun{color:#660}}pre.prettyprint{padding:5px 0 5px 5px;line-height:1.4;word-wrap:break-word;font-size:14px;white-space:pre-wrap}</style><meta name=description content="This page shows Python examples of six.text_type"><meta name=keywords content="Python Examples of six.text_type"><style id=ezoicCSS>.ezoic-at-0{margin-left:0!important;max-width:100%!important;padding:0;margin-right:0!important;min-width:300px;float:none!important;line-height:0;text-align:center!important}.ezoic-ad.medrectangle-3120{margin-bottom:2px!important;text-align:left!important;min-width:728px;min-height:90px;margin-top:2px!important;display:inline-block}.ezoic-ad.leader-1160{display:inline-block;min-height:250px;margin-top:2px!important;margin-bottom:2px!important}.ezoic-ad.large-mobile-banner-1159{margin-top:15!important;margin-bottom:15!important;min-height:280px;display:inline-block;min-width:336px}.ezoic-ad.leader-4704{margin-top:15px!important;margin-bottom:15px!important;display:block!important;width:100%;margin-right:auto!important;margin-left:auto!important;min-height:250px}.ezoic-ad.medrectangle-1280{min-width:970px;min-height:250px;width:100%;margin-left:auto!important;display:block!important;margin-top:15px!important;margin-right:auto!important;margin-bottom:15px!important}.ezoic-ad.large-billboard-2118{min-width:336px;min-height:280px;margin-top:5px!important;margin-bottom:5px!important;display:inline-block;text-align:left!important}.ezoic-ad.large-leaderboard-1119{display:block!important;min-height:0!important;width:300px;margin-top:0!important;margin-bottom:0!important;text-align:left!important;background:0 0!important}.ezoic-ad.large-mobile-banner-2162{margin-top:2px!important;margin-bottom:2px!important;display:inline-block;min-height:250px}.ezoic-ad.leader-2163{margin-top:2px!important;margin-bottom:2px!important;display:inline-block;min-height:250px}.ezoic-ad.leader-3703{margin-top:15px!important;margin-right:auto!important;margin-bottom:15px!important;min-height:250px;margin-left:auto!important;display:block!important;width:100%}.ezoic-ad.box-1117{display:block!important;margin-bottom:5px!important;min-height:250px;margin-top:5px!important;text-align:left!important}.ezoic-ad.banner-1169{display:inline-block;min-height:250px;margin-top:2px!important;margin-bottom:2px!important}.ezoic-ad.large-leaderboard-2161{min-height:250px;display:inline-block;margin-top:2px!important;margin-bottom:2px!important}.ezoic-ad.medrectangle-4340{width:100%;min-width:336px;min-height:280px;margin-top:15px!important;margin-right:auto!important;margin-left:auto!important;display:block!important;margin-bottom:15px!important}.ezoic-ad{border:0}</style><link rel=canonical href=https://www.programcreek.com/python/example/6451/six.text_type><link type=image/x-icon rel="shortcut icon" href=data:><style>.sf-hidden{display:none!important}</style><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style><body><style media=screen>.pln{color:#000}@media screen{.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun{color:#660}}pre.prettyprint{padding:5px 0 5px 5px;line-height:1.4;word-wrap:break-word;font-size:14px;white-space:pre-wrap}</style><div id=header><div id=header-center><div id=top-logo><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAQAAADYBBcfAAADYUlEQVR4AZXBbWhVdRzA8e855zqoiLUX2hpDW4ZSoweJCp8oSpqTIBWjyJFbIxtbc093urvrufec8z///7nb7m67bmsSYi/GXiiFCO7NqIgIVkplJPnCDHzRJCl7onCl/IK5Bx+wrc+HG0U2eBu8Jfw/vg3+E+pU650Ab9ovFLEwng3+tj3l0BGDxGPxbdBhMz/fBu9FdxkMxqDz2WQl+DHm59uQWqNOdW4B0PemR5bHWBhlQ8dadSH8KlkKru8dBM9hIVQMqm/3+8Pv3CWQPtBQBtUW/y3jMCuoDqtga9HTi+FzK+kwH+8uXbJnRby8frX7WltZfGVQ2loE0GlxK+YOs98/q//OylvSLd2Sk17JSVbUP/4X3nNwxPEdbqQt0MvUb+aifl8PhHvd4fB0U0PLrl2tKRMd05ezkljPlCaLm3VsqStkSjJIrWFWKpmT4HtvzG8H2GUxx7Uhvr5XwiMtDz5VWG23LQbPWVfUfr95ORgzkxkJL6lfhiQ9wvU6HWje3CM90ivqkvnRnDHnzAU12SN50X/qy+b3xCMQdLwtHY2gHWbscaB+a5/ohGpIHA4+MsfNePBBYiSIMmt3lIST3hGmBL+aTyCymbHbgbqX9klUyU2eWZoRV8NwAaTHo4vebcyJO7BzR16iChgq2G/5VmD1W4ftzgLYtDIjXc3wbgGkT0YT7THmxB3Y+Wpeoo2gHGa9YkPlikgyDQBNxV0SHoLIYUabA2/U5CWqAOMwa7sNFcszYlqhZWnw4YAkKyB0mOEtgtc35SXaCMZmVq0Fzxcr8UdAHx2SwIV+ixkDFiQfD0fzomvBFDDLtaGtUJ/PSfiH6kut4loZG/zavHRJr6hDTIvsMYtpZlxP6NM5SW2CyOGqtA17y3tEn2grCUb7xR/Wq4sWMU0v9mqSB82kmai7O/xJnWSOccDU58Qrg8SSYLRP9on6WX1jPtNf+ucyMigZCX9IDYE6q75mjnZAV+UlvY4p7kPG9z5Nfhuec8+4J8L3VFVDKYDnD0q6EXIOV7kW7L5HX9ET8Qe4hdSq8ON3RB3lesaGYHOvdEtwzE+3bvcqM09my6P7so+qDfEalQuP94kWN1URg0aLa/VY4D6sjoZXcpKVrGREXzZ/RdIjvdIt6rwKm4sBWiym/Qt2YGkJ7HYwRQAAAABJRU5ErkJggg==" height=28 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/logo-java-topbar-left.png?ezimgfmt=rs:28x28/rscb13/ngcb13/notWebP" ezoid=0.5721472429271377></div><ul id=navigation><li><a href=https://www.programcreek.com/python>Search by Module</a><li><a href="https://www.programcreek.com/python?action=search_nlp">Search by Words</a><li><a href="https://www.programcreek.com/python?action=search_project">Search Projects</a></ul><div class=dropdown><button class=dropbtn>Most Popular</button><div class="dropdown-content sf-hidden">
</div></div><ul id=language-nav><li><a href=https://www.programcreek.com/java-api-examples/>Java</a><li><a style=background-color:#138365 href=https://www.programcreek.com/python/>Python</a><li><a href=https://www.programcreek.com/javascript/>JavaScript</a><li><a href=https://www.programcreek.com/typescript/>TypeScript</a><li><a href=https://www.programcreek.com/cpp/>C++</a><li><a href=https://www.programcreek.com/scala/>Scala</a><li><a href=https://www.programcreek.com/>Blog</a></ul></div></div><div style=clear:both;width:100%></div><div id=content><div id=sidebar-example><div style=height:65px;clear:both></div><span id=ezoic-pub-ad-placeholder-117></span><span class="ezoic-ad ezoic-at-0 box-1 box-1117 adtester-container adtester-container-117" data-ez-name=programcreek_com-box-1><span id=div-gpt-ad-programcreek_com-box-1-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span><span style=width:300px;display:block;height:14px;margin:auto class=reportline><span style=text-align:center;font-size:12px!important;font-family:arial!important;float:left;line-height:normal><a href=https://www.ezoic.com/what-is-ezoic/ target=_blank rel="noopener noreferrer nofollow" style=cursor:pointer><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="87" height="18"><rect fill-opacity="0"/></svg>' alt=Ezoic loading=lazy style="height:12px!important;padding:2px!important;border:0px!important;cursor:pointer!important;width:58px!important;margin:0px!important;box-sizing:content-box!important;background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a></span><span class=ez-report-ad-button name="?pageview_id=7f478e2e-9a75-41fb-45e1-898fad9b5d46&amp;ad_position_id=117&amp;impression_group_id=programcreek_com-box-1/2023-01-04/1063248142038571&amp;ad_size=300x250&amp;domain_id=55920&amp;url=https://www.programcreek.com/python/example/6451/six.text_type" style=cursor:pointer!important;font-size:12px!important;color:#a5a5a5;float:right;text-decoration:none!important;font-family:arial!important;line-height:normal>report this ad</span></span></span><div class=sidebarbox><div class=sidebarboxheader id=relatedClass><b>More from <span style=color:#0586e3><i>six</i></span></b></div><div class=sidebarboxbody><ul><li><a href=https://www.programcreek.com/python/example/5890/six.string_types>.string_types()</a><li><a href=https://www.programcreek.com/python/example/6451/six.text_type>.text_type()</a><li><a href=https://www.programcreek.com/python/example/8199/six.PY3>.PY3</a><li><a href=https://www.programcreek.com/python/example/14312/six.iteritems>.iteritems()</a><li><a href=https://www.programcreek.com/python/example/18681/six.integer_types>.integer_types()</a><li><a href=https://www.programcreek.com/python/example/22443/six.PY2>.PY2</a><li><a href=https://www.programcreek.com/python/example/29945/six.advance_iterator>.advance_iterator()</a><li><a href=https://www.programcreek.com/python/example/54035/six.MAXSIZE>.MAXSIZE</a><li><a href=https://www.programcreek.com/python/example/54036/six.class_types>.class_types()</a><li><a href=https://www.programcreek.com/python/example/54037/six.binary_type>.binary_type()</a><li><a href=https://www.programcreek.com/python/example/54038/six.moves>.moves()</a><li><a href=https://www.programcreek.com/python/example/54039/six.MovedAttribute>.MovedAttribute()</a><li><a href=https://www.programcreek.com/python/example/54040/six.MovedModule>.MovedModule()</a><li><a href=https://www.programcreek.com/python/example/54042/six.get_method_self>.get_method_self()</a><li><a href=https://www.programcreek.com/python/example/54043/six.get_method_function>.get_method_function()</a><li><a href=https://www.programcreek.com/python/example/54044/six.get_function_code>.get_function_code()</a><li><a href=https://www.programcreek.com/python/example/54045/six.next>.next()</a><li><a href=https://www.programcreek.com/python/example/54046/six.Iterator>.Iterator()</a><li><a href=https://www.programcreek.com/python/example/54047/six.callable>.callable()</a><li><a href=https://www.programcreek.com/python/example/54048/six.int2byte>.int2byte()</a></ul></div></div><div style=height:10px;clear:both></div><span id=ezoic-pub-ad-placeholder-118></span><span class="ezoic-ad ezoic-at-0 large-billboard-2 large-billboard-2118 adtester-container adtester-container-118" data-ez-name=programcreek_com-large-billboard-2><span id=div-gpt-ad-programcreek_com-large-billboard-2-0 ezaw=336 ezah=280 style=position:relative;z-index:0;display:inline-block;padding:0;width:100%;max-width:1200px;margin-left:auto!important;margin-right:auto!important;min-height:280px;min-width:336px class=ezoic-ad></span><span style=width:336px;display:block;height:14px;margin:auto class=reportline><span style=text-align:center;font-size:12px!important;font-family:arial!important;float:left;line-height:normal><a href=https://www.ezoic.com/what-is-ezoic/ target=_blank rel="noopener noreferrer nofollow" style=cursor:pointer><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="87" height="18"><rect fill-opacity="0"/></svg>' alt=Ezoic loading=lazy style="height:12px!important;padding:2px!important;border:0px!important;cursor:pointer!important;width:58px!important;margin:0px!important;box-sizing:content-box!important;background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a></span><span class=ez-report-ad-button name="?pageview_id=7f478e2e-9a75-41fb-45e1-898fad9b5d46&amp;ad_position_id=118&amp;impression_group_id=programcreek_com-large-billboard-2/2023-01-04/3235536024075003&amp;ad_size=336x280&amp;domain_id=55920&amp;url=https://www.programcreek.com/python/example/6451/six.text_type" style=cursor:pointer!important;font-size:12px!important;color:#a5a5a5;float:right;text-decoration:none!important;font-family:arial!important;line-height:normal>report this ad</span></span></span><div class=sidebarbox><div class=sidebarboxheader id=relatedClass><b>Related Methods</b></div><div class=sidebarboxbody><ul><li><a href=https://www.programcreek.com/python/example/2/sys.exit>sys.exit()</a><li><a href=https://www.programcreek.com/python/example/3/sys.argv>sys.argv()</a><li><a href=https://www.programcreek.com/python/example/6/re.compile>re.compile()</a><li><a href=https://www.programcreek.com/python/example/10/os.environ>os.environ()</a><li><a href=https://www.programcreek.com/python/example/13/time.time>time.time()</a><li><a href=https://www.programcreek.com/python/example/20/unittest.TestCase>unittest.TestCase()</a><li><a href=https://www.programcreek.com/python/example/21/re.sub>re.sub()</a><li><a href=https://www.programcreek.com/python/example/24/time.sleep>time.sleep()</a><li><a href=https://www.programcreek.com/python/example/26/re.search>re.search()</a><li><a href=https://www.programcreek.com/python/example/30/re.match>re.match()</a><li><a href=https://www.programcreek.com/python/example/38/os.makedirs>os.makedirs()</a><li><a href=https://www.programcreek.com/python/example/40/logging.getLogger>logging.getLogger()</a><li><a href=https://www.programcreek.com/python/example/76/logging.DEBUG>logging.DEBUG</a><li><a href=https://www.programcreek.com/python/example/88/sys.version_info>sys.version_info()</a><li><a href=https://www.programcreek.com/python/example/93/json.loads>json.loads()</a><li><a href=https://www.programcreek.com/python/example/94/json.dumps>json.dumps()</a><li><a href=https://www.programcreek.com/python/example/132/copy.deepcopy>copy.deepcopy()</a><li><a href=https://www.programcreek.com/python/example/748/argparse.ArgumentParser>argparse.ArgumentParser()</a><li><a href=https://www.programcreek.com/python/example/5890/six.string_types>six.string_types()</a><li><a href=https://www.programcreek.com/python/example/10688/setuptools.find_packages>setuptools.find_packages()</a></ul></div></div><div style=height:10px;clear:both></div><div class=sidebarbox><div class=sidebarboxheader id=relatedClass><b>Related Modules</b></div><div class=sidebarboxbody><ul><li><a href=https://www.programcreek.com/python/index/1/os>os</a><li><a href=https://www.programcreek.com/python/index/2/sys>sys</a><li><a href=https://www.programcreek.com/python/index/3/re>re</a><li><a href=https://www.programcreek.com/python/index/4/time>time</a><li><a href=https://www.programcreek.com/python/index/5/logging>logging</a><li><a href=https://www.programcreek.com/python/index/6/datetime>datetime</a><li><a href=https://www.programcreek.com/python/index/8/random>random</a><li><a href=https://www.programcreek.com/python/index/12/math>math</a><li><a href=https://www.programcreek.com/python/index/21/copy>copy</a><li><a href=https://www.programcreek.com/python/index/37/json>json</a><li><a href=https://www.programcreek.com/python/index/54/numpy>numpy</a><li><a href=https://www.programcreek.com/python/index/71/collections>collections</a><li><a href=https://www.programcreek.com/python/index/82/functools>functools</a><li><a href=https://www.programcreek.com/python/index/115/argparse>argparse</a><li><a href=https://www.programcreek.com/python/index/198/setuptools>setuptools</a></ul></div></div><span id=ezoic-pub-ad-placeholder-119></span><span class="ezoic-ad ezoic-at-0 large-leaderboard-1 large-leaderboard-1119 adtester-container adtester-container-119 ezoic-ad-adaptive" data-ez-name=programcreek_com-large-leaderboard-1><span class="ezoic-ad large-leaderboard-1 large-leaderboard-1-multi-119 adtester-container adtester-container-119" data-ez-name=programcreek_com-large-leaderboard-1><span id=div-gpt-ad-programcreek_com-large-leaderboard-1-0 ezaw=300 ezah=262 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:262px;min-width:300px class=ezoic-ad></span></span><span class="ezoic-ad large-leaderboard-1 large-leaderboard-1-multi-119 adtester-container adtester-container-119" data-ez-name=programcreek_com-large-leaderboard-1><span id=div-gpt-ad-programcreek_com-large-leaderboard-1-0_1 ezaw=300 ezah=262 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:262px;min-width:300px class=ezoic-ad></span></span><span class="ezoic-ad large-leaderboard-1 large-leaderboard-1-multi-119 adtester-container adtester-container-119" data-ez-name=programcreek_com-large-leaderboard-1><span id=div-gpt-ad-programcreek_com-large-leaderboard-1-0_2 ezaw=300 ezah=262 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:262px;min-width:300px class=ezoic-ad></span></span><span class="ezoic-ad large-leaderboard-1 large-leaderboard-1-multi-119 adtester-container adtester-container-119" data-ez-name=programcreek_com-large-leaderboard-1><span id=div-gpt-ad-programcreek_com-large-leaderboard-1-0_3 ezaw=300 ezah=262 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:262px;min-width:300px class=ezoic-ad></span></span><style class=sf-hidden>.large-leaderboard-1-multi-119{border:none!important;display:inline-block;float:none!important;line-height:0;margin-bottom:1px!important;margin-left:0!important;margin-right:0!important;margin-top:1px!important;max-width:100%!important;min-height:250px;min-width:300px;padding:0;text-align:left!important}</style></span></div><div id=main><h1 class=main-title>Python <span class=title_font>six.text_type()</span>
Examples</h1><div id=index_page_top_text_box>The following are <span style=color:#0586e3><i>30</i></span>
code examples of <span class=highlight><i>six.text_type()</i></span>.
You can vote up the ones you like or vote down the ones you don't like,
and go to the original project or source file by following the links above each example.
You may also want to check out all available functions/classes of the module
<span style=color:#0586e3><a href=https://www.programcreek.com/python/index/363/six>six</a>
</span>, or try <a href=https://www.programcreek.com/python>the search function
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAAAAAAevcqWAAAAuElEQVR42k3HoUoDYBiG0beaNLhicCAI9mFcsGxhBi/ALjZxSYsX4lZFbAuKyTI2JogujPXBkNWBDPV/v++xiHjaEWQAEAkgks9Ofbve/SIBJcumasc1NT5IkDnRLcGNTjGIuS4pLlxoRiDu9YwxAz1ixINGGNP//bvaOM255gQyZ+oSXOuKb1CyOtJOo6rdgxcKIu27w/1Wb7G58UYRRAAEk8r6KwKyOG0z3Vobij+F8d7TvxO5yh+Nh7DHJgIEzQAAAABJRU5ErkJggg==" width=15 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/search.png?ezimgfmt=rs:15x15/rscb13/ngcb13/notWebP" ezoid=0.9195292661932584>
</a>.</div><div style="margin:20px 0;width:100%"></div><div style=height:5px></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #1</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=appsembler%2Ffigures%2Ffigures-master%2Fmocks%2Fhawthorn%2Fopenedx%2Fcore%2Fdjangoapps%2Fxmodule_django%2Fmodels.py"><b>models.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>figures</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=29313votes>7</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=29313><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ngcb13/notWebP" ezoid=0.38630820623686524 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-5)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=29313><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ngcb13/notWebP" ezoid=0.3399536453728891 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-6)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> get_prep_value</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> value</span><span class=pun>):</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> value </span><span class=kwd>is</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=typ>Empty</span><span class=pln> </span><span class=kwd>or</span><span class=pln> value </span><span class=kwd>is</span><span class=pln> </span><span class=kwd>None</span><span class=pun>:</span><span class=pln>
            </span><span class=kwd>return</span><span class=pln> </span><span class=str>''</span><span class=pln>  </span><span class=com># CharFields should use '' as their empty value, rather than None</span><span class=pln>

        </span><span class=kwd>if</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>string_types</span><span class=pun>):</span><span class=pln>
            value </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>KEY_CLASS</span><span class=pun>.</span><span class=pln>from_string</span><span class=pun>(</span><span class=pln>value</span><span class=pun>)</span><span class=pln>

        </span><span class=kwd>assert</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>KEY_CLASS</span><span class=pun>),</span><span class=pln> </span><span class=str>"%s is not an instance of %s"</span><span class=pln> </span><span class=pun>%</span><span class=pln> </span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>KEY_CLASS</span><span class=pun>)</span><span class=pln>
        serialized_key </span><span class=pun>=</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>_strip_value</span><span class=pun>(</span><span class=pln>value</span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> serialized_key</span><span class=pun>.</span><span class=pln>endswith</span><span class=pun>(</span><span class=str>'\n'</span><span class=pun>):</span><span class=pln>
            </span><span class=com># An opaque key object serialized to a string with a trailing newline.</span><span class=pln>
            </span><span class=com># Log the value - but do not modify it.</span><span class=pln>
            log</span><span class=pun>.</span><span class=pln>warning</span><span class=pun>(</span><span class=pln>u</span><span class=str>'{}:{}:{}:get_prep_value: Invalid key: {}.'</span><span class=pun>.</span><span class=pln>format</span><span class=pun>(</span><span class=pln>
                </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>model</span><span class=pun>.</span><span class=pln>_meta</span><span class=pun>.</span><span class=pln>db_table</span><span class=pun>,</span><span class=pln>  </span><span class=com># pylint: disable=protected-access</span><span class=pln>
                </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>name</span><span class=pun>,</span><span class=pln>
                </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>KEY_CLASS</span><span class=pun>.</span><span class=pln>__name__</span><span class=pun>,</span><span class=pln>
                repr</span><span class=pun>(</span><span class=pln>serialized_key</span><span class=pun>)</span><span class=pln>
            </span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> serialized_key </span></pre></div></div><span id=ezoic-pub-ad-placeholder-120></span><span class="ezoic-ad ezoic-at-0 medrectangle-3 medrectangle-3120 adtester-container adtester-container-120" data-ez-name=programcreek_com-medrectangle-3><span id=div-gpt-ad-programcreek_com-medrectangle-3-0 ezaw=728 ezah=90 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:90px;min-width:728px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #2</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ftests%2Ftest_message.py"><b>test_message.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6776votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6776><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ngcb13/notWebP" ezoid=0.3959919590225509 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-5)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6776><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ngcb13/notWebP" ezoid=0.37555388477060014 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-6)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_translate_message_with_param_from_unicoded_obj</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln>
                                                            mock_translation</span><span class=pun>):</span><span class=pln>
        message_with_params </span><span class=pun>=</span><span class=pln> </span><span class=str>'A message: %s'</span><span class=pln>
        es_translation </span><span class=pun>=</span><span class=pln> </span><span class=str>'A message in Spanish: %s'</span><span class=pln>
        param </span><span class=pun>=</span><span class=pln> </span><span class=str>'A Message param'</span><span class=pln>

        translations </span><span class=pun>=</span><span class=pln> </span><span class=pun>{</span><span class=pln>message_with_params</span><span class=pun>:</span><span class=pln> es_translation</span><span class=pun>}</span><span class=pln>
        translator </span><span class=pun>=</span><span class=pln> fakes</span><span class=pun>.</span><span class=typ>FakeTranslations</span><span class=pun>.</span><span class=pln>translator</span><span class=pun>({</span><span class=str>'es'</span><span class=pun>:</span><span class=pln> translations</span><span class=pun>})</span><span class=pln>
        mock_translation</span><span class=pun>.</span><span class=pln>side_effect </span><span class=pun>=</span><span class=pln> translator

        msg </span><span class=pun>=</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>(</span><span class=pln>message_with_params</span><span class=pun>)</span><span class=pln>
        msg </span><span class=pun>=</span><span class=pln> msg </span><span class=pun>%</span><span class=pln> param

        default_translation </span><span class=pun>=</span><span class=pln> message_with_params </span><span class=pun>%</span><span class=pln> param
        expected_translation </span><span class=pun>=</span><span class=pln> es_translation </span><span class=pun>%</span><span class=pln> param

        obj </span><span class=pun>=</span><span class=pln> utils</span><span class=pun>.</span><span class=typ>SomeObject</span><span class=pun>(</span><span class=pln>msg</span><span class=pun>)</span><span class=pln>
        unicoded_obj </span><span class=pun>=</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>obj</span><span class=pun>)</span><span class=pln>

        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertEqual</span><span class=pun>(</span><span class=pln>expected_translation</span><span class=pun>,</span><span class=pln> unicoded_obj</span><span class=pun>.</span><span class=pln>translation</span><span class=pun>(</span><span class=str>'es'</span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertEqual</span><span class=pun>(</span><span class=pln>default_translation</span><span class=pun>,</span><span class=pln> unicoded_obj</span><span class=pun>.</span><span class=pln>translation</span><span class=pun>(</span><span class=str>'XX'</span><span class=pun>))</span><span class=pln> </span></pre></div></div><span id=ezoic-pub-ad-placeholder-169></span><span class="ezoic-ad ezoic-at-0 banner-1 banner-1169 adtester-container adtester-container-169" data-ez-name=programcreek_com-banner-1><span id=div-gpt-ad-programcreek_com-banner-1-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #3</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=mbusb%2Fmultibootusb%2Fmultibootusb-master%2Fscripts%2Fpyudev%2F_util.py"><b>_util.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>multibootusb</span>
with <span style=font-style:italic>GNU General Public License v2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=9097votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=9097><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.756735156141582 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=9097><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.19413907280412435 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-8)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> property_value_to_bytes</span><span class=pun>(</span><span class=pln>value</span><span class=pun>):</span><span class=pln>
    </span><span class=str>"""
    Return a byte string, which represents the given ``value`` in a way
    suitable as raw value of an udev property.

    If ``value`` is a boolean object, it is converted to ``'1'`` or ``'0'``,
    depending on whether ``value`` is ``True`` or ``False``.  If ``value`` is a
    byte string already, it is returned unchanged.  Anything else is simply
    converted to a unicode string, and then passed to
    :func:`ensure_byte_string`.
    """</span><span class=pln>
    </span><span class=com># udev represents boolean values as 1 or 0, therefore an explicit</span><span class=pln>
    </span><span class=com># conversion to int is required for boolean values</span><span class=pln>
    </span><span class=kwd>if</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> </span><span class=kwd>bool</span><span class=pun>):</span><span class=pln>
        value </span><span class=pun>=</span><span class=pln> </span><span class=kwd>int</span><span class=pun>(</span><span class=pln>value</span><span class=pun>)</span><span class=pln>
    </span><span class=kwd>if</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> bytes</span><span class=pun>):</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> value
    </span><span class=kwd>else</span><span class=pun>:</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> ensure_byte_string</span><span class=pun>(</span><span class=pln>six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>value</span><span class=pun>))</span><span class=pln> </span></pre></div></div><span id=ezoic-pub-ad-placeholder-161></span><span class="ezoic-ad ezoic-at-0 large-leaderboard-2 large-leaderboard-2161 adtester-container adtester-container-161" data-ez-name=programcreek_com-large-leaderboard-2><span id=div-gpt-ad-programcreek_com-large-leaderboard-2-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #4</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=akzaidi%2Ffine-lm%2Ffine-lm-master%2Fsrc%2Ftensor2tensor%2Ftensor2tensor%2Fdata_generators%2Ftext_encoder.py"><b>text_encoder.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>fine-lm</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=23784votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=23784><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.9894412817775593 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=23784><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.06802771872977176 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-8)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> _escape_token</span><span class=pun>(</span><span class=pln>token</span><span class=pun>,</span><span class=pln> alphabet</span><span class=pun>):</span><span class=pln>
  </span><span class=str>"""Escape away underscores and OOV characters and append '_'.

  This allows the token to be expressed as the concatenation of a list
  of subtokens from the vocabulary. The underscore acts as a sentinel
  which allows us to invertibly concatenate multiple such lists.

  Args:
    token: A unicode string to be escaped.
    alphabet: A set of all characters in the vocabulary's alphabet.

  Returns:
    escaped_token: An escaped unicode string.

  Raises:
    ValueError: If the provided token is not unicode.
  """</span><span class=pln>
  </span><span class=kwd>if</span><span class=pln> </span><span class=kwd>not</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>token</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>):</span><span class=pln>
    </span><span class=kwd>raise</span><span class=pln> </span><span class=typ>ValueError</span><span class=pun>(</span><span class=str>"Expected string type for token, got %s"</span><span class=pln> </span><span class=pun>%</span><span class=pln> type</span><span class=pun>(</span><span class=pln>token</span><span class=pun>))</span><span class=pln>

  token </span><span class=pun>=</span><span class=pln> token</span><span class=pun>.</span><span class=pln>replace</span><span class=pun>(</span><span class=pln>u</span><span class=str>"\\"</span><span class=pun>,</span><span class=pln> u</span><span class=str>"\\\\"</span><span class=pun>).</span><span class=pln>replace</span><span class=pun>(</span><span class=pln>u</span><span class=str>"_"</span><span class=pun>,</span><span class=pln> u</span><span class=str>"\\u"</span><span class=pun>)</span><span class=pln>
  ret </span><span class=pun>=</span><span class=pln> </span><span class=pun>[</span><span class=pln>c </span><span class=kwd>if</span><span class=pln> c </span><span class=kwd>in</span><span class=pln> alphabet </span><span class=kwd>and</span><span class=pln> c </span><span class=pun>!=</span><span class=pln> u</span><span class=str>"\n"</span><span class=pln> </span><span class=kwd>else</span><span class=pln> r</span><span class=str>"\%d;"</span><span class=pln> </span><span class=pun>%</span><span class=pln> ord</span><span class=pun>(</span><span class=pln>c</span><span class=pun>)</span><span class=pln> </span><span class=kwd>for</span><span class=pln> c </span><span class=kwd>in</span><span class=pln> token</span><span class=pun>]</span><span class=pln>
  </span><span class=kwd>return</span><span class=pln> u</span><span class=str>""</span><span class=pun>.</span><span class=pln>join</span><span class=pun>(</span><span class=pln>ret</span><span class=pun>)</span><span class=pln> </span><span class=pun>+</span><span class=pln> </span><span class=str>"_"</span><span class=pln> </span></pre></div><span class="ezoic-autoinsert-ad ezoic-under_first_paragraph"></span></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #5</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=PiDelport%2Fdjango-payfast%2Fdjango-payfast-master%2Fpayfast%2Fforms.py"><b>forms.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>django-payfast</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=24671votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=24671><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.7372235435115972 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=24671><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.9157790279146334 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-8)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> is_payfast_ip_address</span><span class=pun>(</span><span class=pln>ip_address_str</span><span class=pun>):</span><span class=pln>
    </span><span class=str>"""
    Return True if ip_address_str matches one of PayFast's server IP addresses.

    Setting: `PAYFAST_IP_ADDRESSES`

    :type ip_address_str: str
    :rtype: bool
    """</span><span class=pln>
    </span><span class=com># TODO: Django system check for validity?</span><span class=pln>
    payfast_ip_addresses </span><span class=pun>=</span><span class=pln> getattr</span><span class=pun>(</span><span class=pln>settings</span><span class=pun>,</span><span class=pln> </span><span class=str>'PAYFAST_IP_ADDRESSES'</span><span class=pun>,</span><span class=pln>
                                   conf</span><span class=pun>.</span><span class=pln>DEFAULT_PAYFAST_IP_ADDRESSES</span><span class=pun>)</span><span class=pln>

    </span><span class=kwd>if</span><span class=pln> sys</span><span class=pun>.</span><span class=pln>version_info </span><span class=pun>&lt;</span><span class=pln> </span><span class=pun>(</span><span class=lit>3</span><span class=pun>,):</span><span class=pln>
        </span><span class=com># Python 2 usability: Coerce str to unicode, to avoid very common TypeErrors.</span><span class=pln>
        </span><span class=com># (On Python 3, this should generally not happen:</span><span class=pln>
        </span><span class=com>#  let unexpected bytes values fail as expected.)</span><span class=pln>
        ip_address_str </span><span class=pun>=</span><span class=pln> unicode</span><span class=pun>(</span><span class=pln>ip_address_str</span><span class=pun>)</span><span class=pln>  </span><span class=com># noqa: F821</span><span class=pln>
        payfast_ip_addresses </span><span class=pun>=</span><span class=pln> </span><span class=pun>[</span><span class=pln>unicode</span><span class=pun>(</span><span class=pln>address</span><span class=pun>)</span><span class=pln> </span><span class=kwd>for</span><span class=pln> address </span><span class=kwd>in</span><span class=pln> payfast_ip_addresses</span><span class=pun>]</span><span class=pln>  </span><span class=com># noqa: F821</span><span class=pln>

    </span><span class=kwd>return</span><span class=pln> any</span><span class=pun>(</span><span class=pln>ip_address</span><span class=pun>(</span><span class=pln>ip_address_str</span><span class=pun>)</span><span class=pln> </span><span class=kwd>in</span><span class=pln> ip_network</span><span class=pun>(</span><span class=pln>payfast_address</span><span class=pun>)</span><span class=pln>
               </span><span class=kwd>for</span><span class=pln> payfast_address </span><span class=kwd>in</span><span class=pln> payfast_ip_addresses</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #6</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=PiDelport%2Fdjango-payfast%2Fdjango-payfast-master%2Fpayfast%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>django-payfast</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=24676votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=24676><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.09055236070079742 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=24676><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.22286758028287434 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-8)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> _prepare_signable_fields</span><span class=pun>(</span><span class=pln>
        valid_field_order</span><span class=pun>,</span><span class=pln>  </span><span class=com># type: Sequence[str]</span><span class=pln>
        data_fields</span><span class=pun>,</span><span class=pln>  </span><span class=com># type: Mapping[str, str]</span><span class=pln>
</span><span class=pun>):</span><span class=pln>  </span><span class=com># type: (...) -&gt; SignableFields</span><span class=pln>
    </span><span class=str>"""
    Prepare PayFast submission variables for signing, using the given field order.

    :raise ValueError:
        If `data_fields` contains any unexpected field names not in `valid_field_order`.
    """</span><span class=pln>
    present_fields </span><span class=pun>=</span><span class=pln> </span><span class=pun>(</span><span class=kwd>set</span><span class=pun>(</span><span class=pln>data_fields</span><span class=pun>.</span><span class=pln>keys</span><span class=pun>())</span><span class=pln> </span><span class=kwd>if</span><span class=pln> sys</span><span class=pun>.</span><span class=pln>version_info </span><span class=pun>&lt;</span><span class=pln> </span><span class=pun>(</span><span class=lit>3</span><span class=pun>,)</span><span class=pln> </span><span class=kwd>else</span><span class=pln>
                      data_fields</span><span class=pun>.</span><span class=pln>keys</span><span class=pun>())</span><span class=pln>
    extra_fields </span><span class=pun>=</span><span class=pln> present_fields </span><span class=pun>-</span><span class=pln> </span><span class=kwd>set</span><span class=pun>(</span><span class=pln>valid_field_order</span><span class=pun>)</span><span class=pln>
    </span><span class=kwd>if</span><span class=pln> extra_fields</span><span class=pun>:</span><span class=pln>
        </span><span class=kwd>raise</span><span class=pln> </span><span class=typ>ValueError</span><span class=pun>(</span><span class=str>'Data contains unexpected fields: {!r}'</span><span class=pun>.</span><span class=pln>format</span><span class=pun>(</span><span class=pln>extra_fields</span><span class=pun>))</span><span class=pln>

    </span><span class=kwd>return</span><span class=pln> </span><span class=pun>[</span><span class=pln>
        </span><span class=pun>(</span><span class=pln>name</span><span class=pun>,</span><span class=pln> data_fields</span><span class=pun>[</span><span class=pln>name</span><span class=pun>])</span><span class=pln> </span><span class=kwd>for</span><span class=pln> name </span><span class=kwd>in</span><span class=pln> valid_field_order
        </span><span class=kwd>if</span><span class=pln> name </span><span class=kwd>in</span><span class=pln> data_fields
    </span><span class=pun>]</span><span class=pln> </span></pre></div></div><span id=ezoic-pub-ad-placeholder-160></span><span class="ezoic-ad ezoic-at-0 leader-1 leader-1160 adtester-container adtester-container-160" data-ez-name=programcreek_com-leader-1><span id=div-gpt-ad-programcreek_com-leader-1-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #7</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Fresource_type.py"><b>resource_type.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36673votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36673><img alt="vote down" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/dislike.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.3000776036394428 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-7)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36673><img alt="vote up" src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26"><rect fill-opacity="0"/></svg>' width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyloaded data-ezsrc="https://www.programcreek.com/common/static/images/like.png?ezimgfmt=rs:26x26/rscb13/ng:webp/ngcb13" ezoid=0.44027543320025386 style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-8)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> __init__</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> </span><span class=pun>*</span><span class=pln>args</span><span class=pun>,</span><span class=pln> </span><span class=pun>**</span><span class=pln>kwargs</span><span class=pun>):</span><span class=pln>
        </span><span class=kwd>super</span><span class=pun>(</span><span class=typ>ResourceTypeSchemaManager</span><span class=pun>,</span><span class=pln> </span><span class=kwd>self</span><span class=pun>).</span><span class=pln>__init__</span><span class=pun>(*</span><span class=pln>args</span><span class=pun>,</span><span class=pln> </span><span class=pun>**</span><span class=pln>kwargs</span><span class=pun>)</span><span class=pln>
        type_schemas </span><span class=pun>=</span><span class=pln> tuple</span><span class=pun>([</span><span class=pln>ext</span><span class=pun>.</span><span class=pln>plugin</span><span class=pun>.</span><span class=pln>meta_schema</span><span class=pun>()</span><span class=pln>
                              </span><span class=kwd>for</span><span class=pln> ext </span><span class=kwd>in</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>extensions</span><span class=pun>])</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>_schema </span><span class=pun>=</span><span class=pln> voluptuous</span><span class=pun>.</span><span class=typ>Schema</span><span class=pun>({</span><span class=pln>
            </span><span class=str>"name"</span><span class=pun>:</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>,</span><span class=pln>
            voluptuous</span><span class=pun>.</span><span class=typ>Required</span><span class=pun>(</span><span class=str>"attributes"</span><span class=pun>,</span><span class=pln> </span><span class=kwd>default</span><span class=pun>={}):</span><span class=pln> </span><span class=pun>{</span><span class=pln>
                six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>:</span><span class=pln> voluptuous</span><span class=pun>.</span><span class=typ>Any</span><span class=pun>(*</span><span class=pln>tuple</span><span class=pun>(</span><span class=pln>type_schemas</span><span class=pun>))</span><span class=pln>
            </span><span class=pun>}</span><span class=pln>
        </span><span class=pun>})</span><span class=pln>

        type_schemas </span><span class=pun>=</span><span class=pln> tuple</span><span class=pun>([</span><span class=pln>ext</span><span class=pun>.</span><span class=pln>plugin</span><span class=pun>.</span><span class=pln>meta_schema</span><span class=pun>(</span><span class=pln>for_update</span><span class=pun>=</span><span class=kwd>True</span><span class=pun>)</span><span class=pln>
                              </span><span class=kwd>for</span><span class=pln> ext </span><span class=kwd>in</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>extensions</span><span class=pun>])</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>_schema_for_update </span><span class=pun>=</span><span class=pln> voluptuous</span><span class=pun>.</span><span class=typ>Schema</span><span class=pun>({</span><span class=pln>
            </span><span class=str>"name"</span><span class=pun>:</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>,</span><span class=pln>
            voluptuous</span><span class=pun>.</span><span class=typ>Required</span><span class=pun>(</span><span class=str>"attributes"</span><span class=pun>,</span><span class=pln> </span><span class=kwd>default</span><span class=pun>={}):</span><span class=pln> </span><span class=pun>{</span><span class=pln>
                six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>:</span><span class=pln> voluptuous</span><span class=pun>.</span><span class=typ>Any</span><span class=pun>(*</span><span class=pln>tuple</span><span class=pun>(</span><span class=pln>type_schemas</span><span class=pun>))</span><span class=pln>
            </span><span class=pun>}</span><span class=pln>
        </span><span class=pun>})</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #8</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Frest%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36733votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36733><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36733><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> patch</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        ap </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>get_archive_policy</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>archive_policy</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> </span><span class=kwd>not</span><span class=pln> ap</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>404</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>
                indexer</span><span class=pun>.</span><span class=typ>NoSuchArchivePolicy</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>archive_policy</span><span class=pun>)))</span><span class=pln>
        enforce</span><span class=pun>(</span><span class=str>"update archive policy"</span><span class=pun>,</span><span class=pln> ap</span><span class=pun>)</span><span class=pln>

        body </span><span class=pun>=</span><span class=pln> deserialize_and_validate</span><span class=pun>(</span><span class=pln>voluptuous</span><span class=pun>.</span><span class=typ>Schema</span><span class=pun>({</span><span class=pln>
            voluptuous</span><span class=pun>.</span><span class=typ>Required</span><span class=pun>(</span><span class=str>"definition"</span><span class=pun>):</span><span class=pln> </span><span class=typ>ArchivePolicyDefinitionSchema</span><span class=pun>,</span><span class=pln>
        </span><span class=pun>}))</span><span class=pln>
        </span><span class=com># Validate the data</span><span class=pln>
        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            ap_items </span><span class=pun>=</span><span class=pln> </span><span class=pun>[</span><span class=pln>archive_policy</span><span class=pun>.</span><span class=typ>ArchivePolicyItem</span><span class=pun>(**</span><span class=pln>item</span><span class=pun>)</span><span class=pln> </span><span class=kwd>for</span><span class=pln> item </span><span class=kwd>in</span><span class=pln>
                        body</span><span class=pun>[</span><span class=str>'definition'</span><span class=pun>]]</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> </span><span class=typ>ValueError</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>

        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            </span><span class=kwd>return</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>update_archive_policy</span><span class=pun>(</span><span class=pln>
                </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>archive_policy</span><span class=pun>,</span><span class=pln> ap_items</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>UnsupportedArchivePolicyChange</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln> </span></pre></div></div><span id=ezoic-pub-ad-placeholder-159></span><span class="ezoic-ad ezoic-at-0 large-mobile-banner-1 large-mobile-banner-1159 adtester-container adtester-container-159" data-ez-name=programcreek_com-large-mobile-banner-1><span id=div-gpt-ad-programcreek_com-large-mobile-banner-1-0 ezaw=336 ezah=280 style=position:relative;z-index:0;display:inline-block;padding:0;width:100%;max-width:1200px;margin-left:auto!important;margin-right:auto!important;min-height:280px;min-width:336px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #9</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Frest%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36738votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36738><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36738><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> post</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        enforce</span><span class=pun>(</span><span class=str>"create archive policy rule"</span><span class=pun>,</span><span class=pln> </span><span class=pun>{})</span><span class=pln>
        </span><span class=typ>ArchivePolicyRuleSchema</span><span class=pln> </span><span class=pun>=</span><span class=pln> voluptuous</span><span class=pun>.</span><span class=typ>Schema</span><span class=pun>({</span><span class=pln>
            voluptuous</span><span class=pun>.</span><span class=typ>Required</span><span class=pun>(</span><span class=str>"name"</span><span class=pun>):</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>,</span><span class=pln>
            voluptuous</span><span class=pun>.</span><span class=typ>Required</span><span class=pun>(</span><span class=str>"metric_pattern"</span><span class=pun>):</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>,</span><span class=pln>
            voluptuous</span><span class=pun>.</span><span class=typ>Required</span><span class=pun>(</span><span class=str>"archive_policy_name"</span><span class=pun>):</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>,</span><span class=pln>
            </span><span class=pun>})</span><span class=pln>

        body </span><span class=pun>=</span><span class=pln> deserialize_and_validate</span><span class=pun>(</span><span class=typ>ArchivePolicyRuleSchema</span><span class=pun>)</span><span class=pln>
        enforce</span><span class=pun>(</span><span class=str>"create archive policy rule"</span><span class=pun>,</span><span class=pln> body</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            ap </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>create_archive_policy_rule</span><span class=pun>(</span><span class=pln>
                body</span><span class=pun>[</span><span class=str>'name'</span><span class=pun>],</span><span class=pln> body</span><span class=pun>[</span><span class=str>'metric_pattern'</span><span class=pun>],</span><span class=pln>
                body</span><span class=pun>[</span><span class=str>'archive_policy_name'</span><span class=pun>]</span><span class=pln>
            </span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>ArchivePolicyRuleAlreadyExists</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>409</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>NoSuchArchivePolicy</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> e</span><span class=pun>)</span><span class=pln>

        location </span><span class=pun>=</span><span class=pln> </span><span class=str>"/archive_policy_rule/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> ap</span><span class=pun>.</span><span class=pln>name
        set_resp_location_hdr</span><span class=pun>(</span><span class=pln>location</span><span class=pun>)</span><span class=pln>
        pecan</span><span class=pun>.</span><span class=pln>response</span><span class=pun>.</span><span class=pln>status </span><span class=pun>=</span><span class=pln> </span><span class=lit>201</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> ap </span></pre></div><span class="ezoic-autoinsert-ad ezoic-under_second_paragraph"></span><span style=clear:both;display:block id=ez-clearholder-medrectangle-4></span><span class="ezoic-ad ezoic-at-0 medrectangle-4 medrectangle-4340 adtester-container adtester-container-340" data-ez-name=programcreek_com-medrectangle-4><span id=div-gpt-ad-programcreek_com-medrectangle-4-0 ezaw=336 ezah=280 style=position:relative;z-index:0;display:inline-block;padding:0;width:100%;max-width:1200px;margin-left:auto!important;margin-right:auto!important;min-height:280px;min-width:336px class=ezoic-ad></span></span></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #10</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Frest%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36746votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36746><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36746><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> post</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        creator </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>auth_helper</span><span class=pun>.</span><span class=pln>get_current_user</span><span class=pun>(</span><span class=pln>
            pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>)</span><span class=pln>
        body </span><span class=pun>=</span><span class=pln> deserialize_and_validate</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=typ>MetricSchema</span><span class=pun>)</span><span class=pln>

        resource_id </span><span class=pun>=</span><span class=pln> body</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>'resource_id'</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> resource_id </span><span class=kwd>is</span><span class=pln> </span><span class=kwd>not</span><span class=pln> </span><span class=kwd>None</span><span class=pun>:</span><span class=pln>
            resource_id </span><span class=pun>=</span><span class=pln> resource_id</span><span class=pun>[</span><span class=lit>1</span><span class=pun>]</span><span class=pln>

        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            m </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>create_metric</span><span class=pun>(</span><span class=pln>
                uuid</span><span class=pun>.</span><span class=pln>uuid4</span><span class=pun>(),</span><span class=pln>
                creator</span><span class=pun>,</span><span class=pln>
                resource_id</span><span class=pun>=</span><span class=pln>resource_id</span><span class=pun>,</span><span class=pln>
                name</span><span class=pun>=</span><span class=pln>body</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>'name'</span><span class=pun>),</span><span class=pln>
                unit</span><span class=pun>=</span><span class=pln>body</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>'unit'</span><span class=pun>),</span><span class=pln>
                archive_policy_name</span><span class=pun>=</span><span class=pln>body</span><span class=pun>[</span><span class=str>'archive_policy_name'</span><span class=pun>])</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>NoSuchArchivePolicy</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>NamedMetricAlreadyExists</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> e</span><span class=pun>)</span><span class=pln>
        set_resp_location_hdr</span><span class=pun>(</span><span class=str>"/metric/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> str</span><span class=pun>(</span><span class=pln>m</span><span class=pun>.</span><span class=pln>id</span><span class=pun>))</span><span class=pln>
        pecan</span><span class=pun>.</span><span class=pln>response</span><span class=pun>.</span><span class=pln>status </span><span class=pun>=</span><span class=pln> </span><span class=lit>201</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> m </span></pre></div></div><span id=ezoic-pub-ad-placeholder-162></span><span class="ezoic-ad ezoic-at-0 large-mobile-banner-2 large-mobile-banner-2162 adtester-container adtester-container-162" data-ez-name=programcreek_com-large-mobile-banner-2><span id=div-gpt-ad-programcreek_com-large-mobile-banner-2-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #11</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Frest%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36748votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36748><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36748><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> _lookup</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> name</span><span class=pun>,</span><span class=pln> </span><span class=pun>*</span><span class=pln>remainder</span><span class=pun>):</span><span class=pln>
        m </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>list_metrics</span><span class=pun>(</span><span class=pln>
            details</span><span class=pun>=</span><span class=kwd>True</span><span class=pun>,</span><span class=pln>
            attribute_filter</span><span class=pun>={</span><span class=str>"and"</span><span class=pun>:</span><span class=pln> </span><span class=pun>[</span><span class=pln>
                </span><span class=pun>{</span><span class=str>"="</span><span class=pun>:</span><span class=pln> </span><span class=pun>{</span><span class=str>"name"</span><span class=pun>:</span><span class=pln> name</span><span class=pun>}},</span><span class=pln>
                </span><span class=pun>{</span><span class=str>"="</span><span class=pun>:</span><span class=pln> </span><span class=pun>{</span><span class=str>"resource_id"</span><span class=pun>:</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_id</span><span class=pun>}},</span><span class=pln>
            </span><span class=pun>]})</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> m</span><span class=pun>:</span><span class=pln>
            </span><span class=kwd>return</span><span class=pln> </span><span class=typ>MetricController</span><span class=pun>(</span><span class=pln>m</span><span class=pun>[</span><span class=lit>0</span><span class=pun>]),</span><span class=pln> remainder

        resource </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>get_resource</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type</span><span class=pun>,</span><span class=pln>
                                                      </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_id</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> resource</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>404</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>indexer</span><span class=pun>.</span><span class=typ>NoSuchMetric</span><span class=pun>(</span><span class=pln>name</span><span class=pun>)))</span><span class=pln>
        </span><span class=kwd>else</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>404</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>indexer</span><span class=pun>.</span><span class=typ>NoSuchResource</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_id</span><span class=pun>)))</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #12</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Frest%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36749votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36749><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36749><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> post</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        resource </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>get_resource</span><span class=pun>(</span><span class=pln>
            </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type</span><span class=pun>,</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_id</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> </span><span class=kwd>not</span><span class=pln> resource</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>404</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>indexer</span><span class=pun>.</span><span class=typ>NoSuchResource</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_id</span><span class=pun>)))</span><span class=pln>
        enforce</span><span class=pun>(</span><span class=str>"update resource"</span><span class=pun>,</span><span class=pln> resource</span><span class=pun>)</span><span class=pln>
        metrics </span><span class=pun>=</span><span class=pln> deserialize_and_validate</span><span class=pun>(</span><span class=typ>MetricsSchema</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            r </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>update_resource</span><span class=pun>(</span><span class=pln>
                </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type</span><span class=pun>,</span><span class=pln>
                </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_id</span><span class=pun>,</span><span class=pln>
                metrics</span><span class=pun>=</span><span class=pln>metrics</span><span class=pun>,</span><span class=pln>
                append_metrics</span><span class=pun>=</span><span class=kwd>True</span><span class=pun>,</span><span class=pln>
                create_revision</span><span class=pun>=</span><span class=kwd>False</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> </span><span class=pun>(</span><span class=pln>indexer</span><span class=pun>.</span><span class=typ>NoSuchMetric</span><span class=pun>,</span><span class=pln>
                indexer</span><span class=pun>.</span><span class=typ>NoSuchArchivePolicy</span><span class=pun>,</span><span class=pln>
                </span><span class=typ>ValueError</span><span class=pun>)</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>NamedMetricAlreadyExists</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>409</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>NoSuchResource</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>404</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>

        </span><span class=kwd>return</span><span class=pln> r</span><span class=pun>.</span><span class=pln>metrics </span></pre></div></div><span id=ezoic-pub-ad-placeholder-163></span><span class="ezoic-ad ezoic-at-0 leader-2 leader-2163 adtester-container adtester-container-163" data-ez-name=programcreek_com-leader-2><span id=div-gpt-ad-programcreek_com-leader-2-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span><div style="margin:20px 2px;color:#424345;font-weight:700">Example #13</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Frest%2Fapi.py"><b>api.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36756votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36756><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36756><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> post</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        schema </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>get_resource_type_schema</span><span class=pun>()</span><span class=pln>
        body </span><span class=pun>=</span><span class=pln> deserialize_and_validate</span><span class=pun>(</span><span class=pln>schema</span><span class=pun>)</span><span class=pln>
        body</span><span class=pun>[</span><span class=str>"state"</span><span class=pun>]</span><span class=pln> </span><span class=pun>=</span><span class=pln> </span><span class=str>"creating"</span><span class=pln>

        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            rt </span><span class=pun>=</span><span class=pln> schema</span><span class=pun>.</span><span class=pln>resource_type_from_dict</span><span class=pun>(**</span><span class=pln>body</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> resource_type</span><span class=pun>.</span><span class=typ>InvalidResourceAttribute</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>400</span><span class=pun>,</span><span class=pln> </span><span class=str>"Invalid input: %s"</span><span class=pln> </span><span class=pun>%</span><span class=pln> e</span><span class=pun>)</span><span class=pln>

        enforce</span><span class=pun>(</span><span class=str>"create resource type"</span><span class=pun>,</span><span class=pln> body</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            rt </span><span class=pun>=</span><span class=pln> pecan</span><span class=pun>.</span><span class=pln>request</span><span class=pun>.</span><span class=pln>indexer</span><span class=pun>.</span><span class=pln>create_resource_type</span><span class=pun>(</span><span class=pln>rt</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> indexer</span><span class=pun>.</span><span class=typ>ResourceTypeAlreadyExists</span><span class=pln> </span><span class=kwd>as</span><span class=pln> e</span><span class=pun>:</span><span class=pln>
            abort</span><span class=pun>(</span><span class=lit>409</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>e</span><span class=pun>))</span><span class=pln>
        set_resp_location_hdr</span><span class=pun>(</span><span class=str>"/resource_type/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> rt</span><span class=pun>.</span><span class=pln>name</span><span class=pun>)</span><span class=pln>
        pecan</span><span class=pun>.</span><span class=pln>response</span><span class=pun>.</span><span class=pln>status </span><span class=pun>=</span><span class=pln> </span><span class=lit>201</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> rt </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #14</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=gnocchixyz%2Fgnocchi%2Fgnocchi-master%2Fgnocchi%2Ftests%2Ftest_rest.py"><b>test_rest.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>gnocchi</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=36846votes>6</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=36846><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=36846><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><span class="ezoic-autoinsert-ad ezoic-long_content"></span><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_delete_resource_with_metrics</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        metric </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=pln>post_json</span><span class=pun>(</span><span class=pln>
            </span><span class=str>"/v1/metric"</span><span class=pun>,</span><span class=pln>
            </span><span class=kwd>params</span><span class=pun>={</span><span class=str>'archive_policy_name'</span><span class=pun>:</span><span class=pln> </span><span class=str>"high"</span><span class=pun>})</span><span class=pln>
        metric_id </span><span class=pun>=</span><span class=pln> json</span><span class=pun>.</span><span class=pln>loads</span><span class=pun>(</span><span class=pln>metric</span><span class=pun>.</span><span class=pln>text</span><span class=pun>)[</span><span class=str>'id'</span><span class=pun>]</span><span class=pln>
        metric_name </span><span class=pun>=</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>uuid</span><span class=pun>.</span><span class=pln>uuid4</span><span class=pun>())</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>attributes</span><span class=pun>[</span><span class=str>'metrics'</span><span class=pun>]</span><span class=pln> </span><span class=pun>=</span><span class=pln> </span><span class=pun>{</span><span class=pln>metric_name</span><span class=pun>:</span><span class=pln> metric_id</span><span class=pun>}</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>"/v1/metric/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> metric_id</span><span class=pun>,</span><span class=pln>
                     status</span><span class=pun>=</span><span class=lit>200</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=pln>post_json</span><span class=pun>(</span><span class=str>"/v1/resource/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type</span><span class=pun>,</span><span class=pln>
                           </span><span class=kwd>params</span><span class=pun>=</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>attributes</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>"/v1/resource/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type </span><span class=pun>+</span><span class=pln> </span><span class=str>"/"</span><span class=pln>
                     </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>attributes</span><span class=pun>[</span><span class=str>'id'</span><span class=pun>],</span><span class=pln>
                     status</span><span class=pun>=</span><span class=lit>200</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=kwd>delete</span><span class=pun>(</span><span class=str>"/v1/resource/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type </span><span class=pun>+</span><span class=pln> </span><span class=str>"/"</span><span class=pln>
                        </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>attributes</span><span class=pun>[</span><span class=str>'id'</span><span class=pun>],</span><span class=pln>
                        status</span><span class=pun>=</span><span class=lit>204</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>"/v1/resource/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>resource_type </span><span class=pun>+</span><span class=pln> </span><span class=str>"/"</span><span class=pln>
                     </span><span class=pun>+</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>attributes</span><span class=pun>[</span><span class=str>'id'</span><span class=pun>],</span><span class=pln>
                     status</span><span class=pun>=</span><span class=lit>404</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>app</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>"/v1/metric/"</span><span class=pln> </span><span class=pun>+</span><span class=pln> metric_id</span><span class=pun>,</span><span class=pln>
                     status</span><span class=pun>=</span><span class=lit>404</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #15</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2F_message.py"><b>_message.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6737votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6737><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6737><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><span class="ezoic-autoinsert-ad ezoic-longer_content"></span><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> __mod__</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> other</span><span class=pun>):</span><span class=pln>
        </span><span class=com># When we mod a Message we want the actual operation to be performed</span><span class=pln>
        </span><span class=com># by the base class (i.e. unicode()), the only thing  we do here is</span><span class=pln>
        </span><span class=com># save the original msgid and the parameters in case of a translation</span><span class=pln>
        </span><span class=kwd>params</span><span class=pln> </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>_sanitize_mod_params</span><span class=pun>(</span><span class=pln>other</span><span class=pun>)</span><span class=pln>
        unicode_mod </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>_safe_translate</span><span class=pun>(</span><span class=pln>six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>),</span><span class=pln> </span><span class=kwd>params</span><span class=pun>)</span><span class=pln>
        modded </span><span class=pun>=</span><span class=pln> </span><span class=typ>Message</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>msgid</span><span class=pun>,</span><span class=pln>
                         msgtext</span><span class=pun>=</span><span class=pln>unicode_mod</span><span class=pun>,</span><span class=pln>
                         </span><span class=kwd>params</span><span class=pun>=</span><span class=kwd>params</span><span class=pun>,</span><span class=pln>
                         domain</span><span class=pun>=</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>domain</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> modded </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #16</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2F_message.py"><b>_message.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6739votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6739><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6739><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> _copy_param</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> param</span><span class=pun>):</span><span class=pln>
        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            </span><span class=kwd>return</span><span class=pln> copy</span><span class=pun>.</span><span class=pln>deepcopy</span><span class=pun>(</span><span class=pln>param</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> </span><span class=typ>Exception</span><span class=pun>:</span><span class=pln>
            </span><span class=com># Fallback to casting to unicode this will handle the</span><span class=pln>
            </span><span class=com># python code-like objects that can't be deep-copied</span><span class=pln>
            </span><span class=kwd>return</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>param</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #17</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2F_translate.py"><b>_translate.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6741votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6741><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6741><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><span class="ezoic-autoinsert-ad ezoic-longest_content"></span><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> translate</span><span class=pun>(</span><span class=pln>obj</span><span class=pun>,</span><span class=pln> desired_locale</span><span class=pun>=</span><span class=kwd>None</span><span class=pun>):</span><span class=pln>
    </span><span class=str>"""Gets the translated unicode representation of the given object.

    If the object is not translatable it is returned as-is.

    If the desired_locale argument is None the object is translated to
    the system locale.

    :param obj: the object to translate
    :param desired_locale: the locale to translate the message to, if None the
                           default system locale will be used
    :returns: the translated object in unicode, or the original object if
              it could not be translated

    """</span><span class=pln>
    </span><span class=kwd>from</span><span class=pln> oslo_i18n </span><span class=kwd>import</span><span class=pln> _message  </span><span class=com># avoid circular dependency at module level</span><span class=pln>
    message </span><span class=pun>=</span><span class=pln> obj
    </span><span class=kwd>if</span><span class=pln> </span><span class=kwd>not</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>message</span><span class=pun>,</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>):</span><span class=pln>
        </span><span class=com># If the object to translate is not already translatable,</span><span class=pln>
        </span><span class=com># let's first get its unicode representation</span><span class=pln>
        message </span><span class=pun>=</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>obj</span><span class=pun>)</span><span class=pln>
    </span><span class=kwd>if</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>message</span><span class=pun>,</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>):</span><span class=pln>
        </span><span class=com># Even after unicoding() we still need to check if we are</span><span class=pln>
        </span><span class=com># running with translatable unicode before translating</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> message</span><span class=pun>.</span><span class=pln>translation</span><span class=pun>(</span><span class=pln>desired_locale</span><span class=pun>)</span><span class=pln>
    </span><span class=kwd>return</span><span class=pln> obj </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #18</div><span class="ezoic-autoinsert-ad ezoic-incontent_5"></span><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ffixture.py"><b>fixture.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6742votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6742><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6742><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> immediate</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> msg</span><span class=pun>):</span><span class=pln>
        </span><span class=str>"""Return a string as though it had been translated immediately.

        :param msg: Input message string. May optionally include
                    positional or named string interpolation markers.
        :type msg: str or unicode

        """</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>msg</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #19</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ftests%2Futils.py"><b>utils.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6749votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6749><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6749><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> __unicode__</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
            </span><span class=kwd>return</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>value</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #20</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ftests%2Ftest_fixture.py"><b>test_fixture.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6754votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6754><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6754><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_immediate</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        msg </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>trans_fixture</span><span class=pun>.</span><span class=pln>immediate</span><span class=pun>(</span><span class=str>'this is a lazy message'</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertNotIsInstance</span><span class=pun>(</span><span class=pln>msg</span><span class=pun>,</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertIsInstance</span><span class=pun>(</span><span class=pln>msg</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertEqual</span><span class=pun>(</span><span class=pln>u</span><span class=str>'this is a lazy message'</span><span class=pun>,</span><span class=pln> msg</span><span class=pun>)</span><span class=pln> </span></pre></div><span class="ezoic-autoinsert-ad ezoic-incontent_6"></span></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #21</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ftests%2Ftest_message.py"><b>test_message.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6768votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6768><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6768><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_message_is_unicode</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        message </span><span class=pun>=</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>(</span><span class=str>'some %s'</span><span class=pun>)</span><span class=pln> </span><span class=pun>%</span><span class=pln> </span><span class=str>'message'</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertIsInstance</span><span class=pun>(</span><span class=pln>message</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #22</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ftests%2Ftest_message.py"><b>test_message.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6769votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6769><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6769><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_translation_returns_unicode</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        message </span><span class=pun>=</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>(</span><span class=str>'some %s'</span><span class=pun>)</span><span class=pln> </span><span class=pun>%</span><span class=pln> </span><span class=str>'message'</span><span class=pln>
        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertIsInstance</span><span class=pun>(</span><span class=pln>message</span><span class=pun>.</span><span class=pln>translation</span><span class=pun>(),</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>)</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #23</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=openstack%2Foslo.i18n%2Foslo.i18n-master%2Foslo_i18n%2Ftests%2Ftest_message.py"><b>test_message.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>oslo.i18n</span>
with <span style=font-style:italic>Apache License 2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=6773votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=6773><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=6773><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_translate_message_from_unicoded_object</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> mock_translation</span><span class=pun>):</span><span class=pln>
        en_message </span><span class=pun>=</span><span class=pln> </span><span class=str>'A message in the default locale'</span><span class=pln>
        es_translation </span><span class=pun>=</span><span class=pln> </span><span class=str>'A message in Spanish'</span><span class=pln>
        message </span><span class=pun>=</span><span class=pln> _message</span><span class=pun>.</span><span class=typ>Message</span><span class=pun>(</span><span class=pln>en_message</span><span class=pun>)</span><span class=pln>
        es_translations </span><span class=pun>=</span><span class=pln> </span><span class=pun>{</span><span class=pln>en_message</span><span class=pun>:</span><span class=pln> es_translation</span><span class=pun>}</span><span class=pln>
        translations_map </span><span class=pun>=</span><span class=pln> </span><span class=pun>{</span><span class=str>'es'</span><span class=pun>:</span><span class=pln> es_translations</span><span class=pun>}</span><span class=pln>
        translator </span><span class=pun>=</span><span class=pln> fakes</span><span class=pun>.</span><span class=typ>FakeTranslations</span><span class=pun>.</span><span class=pln>translator</span><span class=pun>(</span><span class=pln>translations_map</span><span class=pun>)</span><span class=pln>
        mock_translation</span><span class=pun>.</span><span class=pln>side_effect </span><span class=pun>=</span><span class=pln> translator

        </span><span class=com># Here we are not testing the Message object directly but the result</span><span class=pln>
        </span><span class=com># of unicoding() an object whose unicode representation is a Message</span><span class=pln>
        obj </span><span class=pun>=</span><span class=pln> utils</span><span class=pun>.</span><span class=typ>SomeObject</span><span class=pun>(</span><span class=pln>message</span><span class=pun>)</span><span class=pln>
        unicoded_obj </span><span class=pun>=</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>obj</span><span class=pun>)</span><span class=pln>

        </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>assertEqual</span><span class=pun>(</span><span class=pln>es_translation</span><span class=pun>,</span><span class=pln> unicoded_obj</span><span class=pun>.</span><span class=pln>translation</span><span class=pun>(</span><span class=str>'es'</span><span class=pun>))</span><span class=pln> </span></pre></div><span class="ezoic-autoinsert-ad ezoic-incontent_7"></span></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #24</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=StephanZheng%2Fneural-fingerprinting%2Fneural-fingerprinting-master%2Fthird_party%2Fcleverhans%2Fexamples%2Fnips17_adversarial_competition%2Feval_infra%2Fcode%2Feval_lib%2Fwork_data.py"><b>work_data.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>neural-fingerprinting</span>
with <span style=font-style:italic>BSD 3-Clause "New" or "Revised" License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=8556votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=8556><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=8556><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> update_work_as_completed</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> worker_id</span><span class=pun>,</span><span class=pln> work_id</span><span class=pun>,</span><span class=pln> other_values</span><span class=pun>=</span><span class=kwd>None</span><span class=pun>,</span><span class=pln>
                               error</span><span class=pun>=</span><span class=kwd>None</span><span class=pun>):</span><span class=pln>
    </span><span class=str>"""Updates work piece in datastore as completed.

    Args:
      worker_id: ID of the worker which did the work
      work_id: ID of the work which was done
      other_values: dictionary with additonal values which should be saved
        with the work piece
      error: if not None then error occurred during computation of the work
        piece. In such case work will be marked as completed with error.

    Returns:
      whether work was successfully updated
    """</span><span class=pln>
    client </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>_datastore_client
    </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
      </span><span class=kwd>with</span><span class=pln> client</span><span class=pun>.</span><span class=pln>transaction</span><span class=pun>()</span><span class=pln> </span><span class=kwd>as</span><span class=pln> transaction</span><span class=pun>:</span><span class=pln>
        work_key </span><span class=pun>=</span><span class=pln> client</span><span class=pun>.</span><span class=pln>key</span><span class=pun>(</span><span class=pln>KIND_WORK_TYPE</span><span class=pun>,</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>_work_type_entity_id</span><span class=pun>,</span><span class=pln>
                              KIND_WORK</span><span class=pun>,</span><span class=pln> work_id</span><span class=pun>)</span><span class=pln>
        work_entity </span><span class=pun>=</span><span class=pln> client</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=pln>work_key</span><span class=pun>,</span><span class=pln> transaction</span><span class=pun>=</span><span class=pln>transaction</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> work_entity</span><span class=pun>[</span><span class=str>'claimed_worker_id'</span><span class=pun>]</span><span class=pln> </span><span class=pun>!=</span><span class=pln> worker_id</span><span class=pun>:</span><span class=pln>
          </span><span class=kwd>return</span><span class=pln> </span><span class=kwd>False</span><span class=pln>
        work_entity</span><span class=pun>[</span><span class=str>'is_completed'</span><span class=pun>]</span><span class=pln> </span><span class=pun>=</span><span class=pln> </span><span class=kwd>True</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> other_values</span><span class=pun>:</span><span class=pln>
          work_entity</span><span class=pun>.</span><span class=pln>update</span><span class=pun>(</span><span class=pln>other_values</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> error</span><span class=pun>:</span><span class=pln>
          work_entity</span><span class=pun>[</span><span class=str>'error'</span><span class=pun>]</span><span class=pln> </span><span class=pun>=</span><span class=pln> text_type</span><span class=pun>(</span><span class=pln>error</span><span class=pun>)</span><span class=pln>
        transaction</span><span class=pun>.</span><span class=pln>put</span><span class=pun>(</span><span class=pln>work_entity</span><span class=pun>)</span><span class=pln>
    </span><span class=kwd>except</span><span class=pun>:</span><span class=pln>
      </span><span class=kwd>return</span><span class=pln> </span><span class=kwd>False</span><span class=pln>
    </span><span class=kwd>return</span><span class=pln> </span><span class=kwd>True</span><span class=pln> </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #25</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=mbusb%2Fmultibootusb%2Fmultibootusb-master%2Fscripts%2Fpyudev%2F_util.py"><b>_util.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>multibootusb</span>
with <span style=font-style:italic>GNU General Public License v2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=9096votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=9096><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=9096><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> ensure_unicode_string</span><span class=pun>(</span><span class=pln>value</span><span class=pun>):</span><span class=pln>
    </span><span class=str>"""
    Return the given ``value`` as unicode string.

    If the given ``value`` is not a unicode string, but a byte string, it is
    decoded with the filesystem encoding (as in
    :func:`sys.getfilesystemencoding()`).
    """</span><span class=pln>
    </span><span class=kwd>if</span><span class=pln> </span><span class=kwd>not</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>):</span><span class=pln>
        value </span><span class=pun>=</span><span class=pln> value</span><span class=pun>.</span><span class=pln>decode</span><span class=pun>(</span><span class=pln>sys</span><span class=pun>.</span><span class=pln>getfilesystemencoding</span><span class=pun>())</span><span class=pln>
    </span><span class=kwd>return</span><span class=pln> value </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #26</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=mbusb%2Fmultibootusb%2Fmultibootusb-master%2Fscripts%2Fpyudev%2F_qt_base.py"><b>_qt_base.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>multibootusb</span>
with <span style=font-style:italic>GNU General Public License v2.0</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=9102votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=9102><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=9102><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> make_monitor_observer</span><span class=pun>(</span><span class=pln>qobject</span><span class=pun>,</span><span class=pln> signal</span><span class=pun>,</span><span class=pln> socket_notifier</span><span class=pun>):</span><span class=pln>
        </span><span class=str>"""Generates an observer for device events integrating into the
        PyQt{4,5} mainloop.

        This class inherits :class:`~PyQt{4,5}.QtCore.QObject` to turn device
        events into Qt signals:

        &gt;&gt;&gt; from pyudev import Context, Monitor
        &gt;&gt;&gt; from pyudev.pyqt4 import MonitorObserver
        &gt;&gt;&gt; context = Context()
        &gt;&gt;&gt; monitor = Monitor.from_netlink(context)
        &gt;&gt;&gt; monitor.filter_by(subsystem='input')
        &gt;&gt;&gt; observer = MonitorObserver(monitor)
        &gt;&gt;&gt; def device_event(device):
        ...     print('event {0} on device {1}'.format(device.action, device))
        &gt;&gt;&gt; observer.deviceEvent.connect(device_event)
        &gt;&gt;&gt; monitor.start()

        This class is a child of :class:`~{PyQt{4,5}, PySide}.QtCore.QObject`.

        """</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> type</span><span class=pun>(</span><span class=pln>
           str</span><span class=pun>(</span><span class=str>"QUDevMonitorObserver"</span><span class=pun>),</span><span class=pln>
           </span><span class=pun>(</span><span class=pln>qobject</span><span class=pun>,</span><span class=pln> </span><span class=typ>QUDevMonitorObserverMixin</span><span class=pun>),</span><span class=pln>
           </span><span class=pun>{</span><span class=pln>
              str</span><span class=pun>(</span><span class=str>"__init__"</span><span class=pun>)</span><span class=pln> </span><span class=pun>:</span><span class=pln> make_init</span><span class=pun>(</span><span class=pln>qobject</span><span class=pun>,</span><span class=pln> socket_notifier</span><span class=pun>),</span><span class=pln>
              </span><span class=com>#: emitted upon arbitrary device events</span><span class=pln>
              str</span><span class=pun>(</span><span class=str>"deviceEvent"</span><span class=pun>)</span><span class=pln> </span><span class=pun>:</span><span class=pln> signal</span><span class=pun>(</span><span class=pln>six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>,</span><span class=pln> </span><span class=typ>Device</span><span class=pun>),</span><span class=pln>
              </span><span class=com>#: emitted if a device was added</span><span class=pln>
              str</span><span class=pun>(</span><span class=str>"deviceAdded"</span><span class=pun>)</span><span class=pln> </span><span class=pun>:</span><span class=pln> signal</span><span class=pun>(</span><span class=typ>Device</span><span class=pun>),</span><span class=pln>
              </span><span class=com>#: emitted if a device was removed</span><span class=pln>
              str</span><span class=pun>(</span><span class=str>"deviceRemoved"</span><span class=pun>)</span><span class=pln> </span><span class=pun>:</span><span class=pln> signal</span><span class=pun>(</span><span class=typ>Device</span><span class=pun>),</span><span class=pln>
              </span><span class=com>#: emitted if a device was changed</span><span class=pln>
              str</span><span class=pun>(</span><span class=str>"deviceChanged"</span><span class=pun>)</span><span class=pln> </span><span class=pun>:</span><span class=pln> signal</span><span class=pun>(</span><span class=typ>Device</span><span class=pun>),</span><span class=pln>
              </span><span class=com>#: emitted if a device was moved</span><span class=pln>
              str</span><span class=pun>(</span><span class=str>"deviceMoved"</span><span class=pun>)</span><span class=pln> </span><span class=pun>:</span><span class=pln> signal</span><span class=pun>(</span><span class=typ>Device</span><span class=pun>)</span><span class=pln>
           </span><span class=pun>}</span><span class=pln>
        </span><span class=pun>)</span><span class=pln> </span></pre></div><span class="ezoic-autoinsert-ad ezoic-incontent_8"></span><span style=clear:both;display:block id=ez-clearholder-leader-3></span><span class="ezoic-ad ezoic-at-0 leader-3 leader-3703 adtester-container adtester-container-703" data-ez-name=programcreek_com-leader-3><span id=div-gpt-ad-programcreek_com-leader-3-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #27</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=frictionlessdata%2Fgoodtables-py%2Fgoodtables-py-master%2Fgoodtables%2Fchecks%2Fduplicate_row.py"><b>duplicate_row.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>goodtables-py</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=12552votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=12552><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=12552><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> check_row</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>,</span><span class=pln> cells</span><span class=pun>):</span><span class=pln>
        errors </span><span class=pun>=</span><span class=pln> </span><span class=pun>[]</span><span class=pln>

        </span><span class=com># Get pointer</span><span class=pln>
        </span><span class=kwd>try</span><span class=pun>:</span><span class=pln>
            values </span><span class=pun>=</span><span class=pln> list</span><span class=pun>(</span><span class=pln>six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>cell</span><span class=pun>.</span><span class=kwd>get</span><span class=pun>(</span><span class=str>'value'</span><span class=pun>))</span><span class=pln> </span><span class=kwd>for</span><span class=pln> cell </span><span class=kwd>in</span><span class=pln> cells</span><span class=pun>)</span><span class=pln>
            </span><span class=com># https://github.com/frictionlessdata/goodtables-py/issues/329</span><span class=pln>
            pointer </span><span class=pun>=</span><span class=pln> hash</span><span class=pun>(</span><span class=pln>json</span><span class=pun>.</span><span class=pln>dumps</span><span class=pun>(</span><span class=pln>list</span><span class=pun>(</span><span class=pln>six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>(</span><span class=pln>len</span><span class=pun>(</span><span class=pln>value</span><span class=pun>))</span><span class=pln> </span><span class=pun>+</span><span class=pln> value </span><span class=kwd>for</span><span class=pln> value </span><span class=kwd>in</span><span class=pln> values</span><span class=pun>)))</span><span class=pln>
            references </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>__row_index</span><span class=pun>.</span><span class=pln>setdefault</span><span class=pun>(</span><span class=pln>pointer</span><span class=pun>,</span><span class=pln> </span><span class=pun>[])</span><span class=pln>
        </span><span class=kwd>except</span><span class=pln> </span><span class=typ>TypeError</span><span class=pun>:</span><span class=pln>
            pointer </span><span class=pun>=</span><span class=pln> </span><span class=kwd>None</span><span class=pln>

        </span><span class=com># Found pointer</span><span class=pln>
        </span><span class=kwd>if</span><span class=pln> pointer</span><span class=pun>:</span><span class=pln>

            row_number </span><span class=pun>=</span><span class=pln> cells</span><span class=pun>[</span><span class=lit>0</span><span class=pun>].</span><span class=kwd>get</span><span class=pun>(</span><span class=str>'row-number'</span><span class=pun>)</span><span class=pln>

            </span><span class=com># Add error</span><span class=pln>
            </span><span class=kwd>if</span><span class=pln> references</span><span class=pun>:</span><span class=pln>
                message_substitutions </span><span class=pun>=</span><span class=pln> </span><span class=pun>{</span><span class=pln>
                    </span><span class=str>'row_numbers'</span><span class=pun>:</span><span class=pln> </span><span class=str>', '</span><span class=pun>.</span><span class=pln>join</span><span class=pun>(</span><span class=pln>map</span><span class=pun>(</span><span class=pln>str</span><span class=pun>,</span><span class=pln> references</span><span class=pun>)),</span><span class=pln>
                </span><span class=pun>}</span><span class=pln>
                error </span><span class=pun>=</span><span class=pln> </span><span class=typ>Error</span><span class=pun>(</span><span class=pln>
                    </span><span class=str>'duplicate-row'</span><span class=pun>,</span><span class=pln>
                    row_number</span><span class=pun>=</span><span class=pln>row_number</span><span class=pun>,</span><span class=pln>
                    message_substitutions</span><span class=pun>=</span><span class=pln>message_substitutions
                </span><span class=pun>)</span><span class=pln>
                errors</span><span class=pun>.</span><span class=pln>append</span><span class=pun>(</span><span class=pln>error</span><span class=pun>)</span><span class=pln>

            </span><span class=com># Clear cells</span><span class=pln>
            </span><span class=kwd>if</span><span class=pln> references</span><span class=pun>:</span><span class=pln>
                </span><span class=kwd>del</span><span class=pln> cells</span><span class=pun>[:]</span><span class=pln>

            </span><span class=com># Update references</span><span class=pln>
            references</span><span class=pun>.</span><span class=pln>append</span><span class=pun>(</span><span class=pln>row_number</span><span class=pun>)</span><span class=pln>

        </span><span class=kwd>return</span><span class=pln> errors </span></pre></div><span class="ezoic-autoinsert-ad ezoic-incontent_9"></span><span style=clear:both;display:block id=ez-clearholder-leader-4></span><span class="ezoic-ad ezoic-at-0 leader-4 leader-4704 adtester-container adtester-container-704" data-ez-name=programcreek_com-leader-4><span id=div-gpt-ad-programcreek_com-leader-4-0 ezaw=300 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;min-height:250px;min-width:300px class=ezoic-ad></span></span></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #28</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=jborean93%2Fsmbprotocol%2Fsmbprotocol-master%2Ftests%2Ftest_structure.py"><b>test_structure.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>smbprotocol</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=19949votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=19949><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=19949><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_set_bytes</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        field </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=typ>StructureTest</span><span class=pun>()[</span><span class=str>'field'</span><span class=pun>]</span><span class=pln>
        field</span><span class=pun>.</span><span class=pln>set_value</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>.</span><span class=pln>STRING_VALUE</span><span class=pun>.</span><span class=pln>encode</span><span class=pun>(</span><span class=str>'utf-8'</span><span class=pun>))</span><span class=pln>
        expected </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=pln>STRING_VALUE
        actual </span><span class=pun>=</span><span class=pln> field</span><span class=pun>.</span><span class=pln>get_value</span><span class=pun>()</span><span class=pln>
        </span><span class=kwd>assert</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>field</span><span class=pun>.</span><span class=pln>value</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>assert</span><span class=pln> actual </span><span class=pun>==</span><span class=pln> expected </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #29</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=jborean93%2Fsmbprotocol%2Fsmbprotocol-master%2Ftests%2Ftest_structure.py"><b>test_structure.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>smbprotocol</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=19950votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=19950><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=19950><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> test_set_none</span><span class=pun>(</span><span class=kwd>self</span><span class=pun>):</span><span class=pln>
        field </span><span class=pun>=</span><span class=pln> </span><span class=kwd>self</span><span class=pun>.</span><span class=typ>StructureTest</span><span class=pun>()[</span><span class=str>'field'</span><span class=pun>]</span><span class=pln>
        field</span><span class=pun>.</span><span class=pln>set_value</span><span class=pun>(</span><span class=kwd>None</span><span class=pun>)</span><span class=pln>
        expected </span><span class=pun>=</span><span class=pln> u</span><span class=str>""</span><span class=pln>
        actual </span><span class=pun>=</span><span class=pln> field</span><span class=pun>.</span><span class=pln>get_value</span><span class=pun>()</span><span class=pln>
        </span><span class=kwd>assert</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>field</span><span class=pun>.</span><span class=pln>value</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>)</span><span class=pln>
        </span><span class=kwd>assert</span><span class=pln> actual </span><span class=pun>==</span><span class=pln> expected </span></pre></div></div><div style="margin:20px 2px;color:#424345;font-weight:700">Example #30</div><div class=examplebox><div class=exampleboxheader><table width=100%><tbody><tr><td width=80% style=padding:2px;font-size:14px;line-height:25px>Source File: <a href="https://www.programcreek.com/python?code=jborean93%2Fsmbprotocol%2Fsmbprotocol-master%2Fsmbprotocol%2F_text.py"><b>_text.py</b>
</a>&nbsp;&nbsp;
From <span style=font-style:italic>smbprotocol</span>
with <span style=font-style:italic>MIT License</span><td width=10% align=right style=padding-right:5px;font-size:14px;color:#08c><span style=color:#08c id=20073votes>5</span>
votes<td width=12% align=right style=padding-right:5px;font-size:14px><span class="vote vote_down click_button" style="float:right;border-radius:2px;border:1px solid #d8d8d8" id=20073><img alt="vote down" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/dislike.png></span>
<span class="vote vote_up click_button" style="float:left;border-radius:2px;border:1px solid #d8d8d8" id=20073><img alt="vote up" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%2248%22%20height=%2248%22%3E%3C/svg%3E" width=26 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/like.png></span></table></div><div class=exampleboxbody><pre class=prettyprint><span class=kwd>def</span><span class=pln> to_text</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> encoding</span><span class=pun>=</span><span class=str>'utf-8'</span><span class=pun>):</span><span class=pln>
    </span><span class=str>"""
    Makes sure the value is decoded as a text string.

    :param value: The Python byte string value to decode.
    :param encoding: The encoding to use.
    :return: The text/unicode string that was decoded.
    """</span><span class=pln>
    </span><span class=kwd>if</span><span class=pln> isinstance</span><span class=pun>(</span><span class=pln>value</span><span class=pun>,</span><span class=pln> six</span><span class=pun>.</span><span class=pln>text_type</span><span class=pun>):</span><span class=pln>
        </span><span class=kwd>return</span><span class=pln> value
    </span><span class=kwd>return</span><span class=pln> value</span><span class=pun>.</span><span class=pln>decode</span><span class=pun>(</span><span class=pln>encoding</span><span class=pun>)</span><span class=pln>


</span><span class=com># On Python 2 a native string is a byte string and on Python 3 a native string is a text (unicode) string. </span></pre></div></div></div><div style=height:1px;width:100%;clear:both></div></div><span class="ezoic-autoinsert-ad ezoic-bottom_of_page"></span><span style=clear:both;display:block id=ez-clearholder-medrectangle-1></span><span class="ezoic-ad ezoic-at-0 medrectangle-1 medrectangle-1280 adtester-container adtester-container-280" data-ez-name=programcreek_com-medrectangle-1><span id=div-gpt-ad-programcreek_com-medrectangle-1-0 ezaw=250 ezah=250 style=position:relative;z-index:0;display:inline-block;padding:0;width:100%;max-width:1200px;margin-left:auto!important;margin-right:auto!important;min-height:250px;min-width:970px class=ezoic-ad></span><span style=width:250px;display:block;height:14px;margin:auto class=reportline><span style=text-align:center;font-size:12px!important;font-family:arial!important;float:left;line-height:normal><a href=https://www.ezoic.com/what-is-ezoic/ target=_blank rel="noopener noreferrer nofollow" style=cursor:pointer><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="87" height="18"><rect fill-opacity="0"/></svg>' alt=Ezoic loading=lazy style="height:12px!important;padding:2px!important;border:0px!important;cursor:pointer!important;width:58px!important;margin:0px!important;box-sizing:content-box!important;background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important"></a></span><span class=ez-report-ad-button name="?pageview_id=7f478e2e-9a75-41fb-45e1-898fad9b5d46&amp;ad_position_id=4&amp;impression_group_id=programcreek_com-medrectangle-1/2023-01-04/8962433888026650&amp;ad_size=250x250&amp;domain_id=55920&amp;url=https://www.programcreek.com/python/example/6451/six.text_type" style=cursor:pointer!important;font-size:12px!important;color:#a5a5a5;float:right;text-decoration:none!important;font-family:arial!important;line-height:normal>report this ad</span></span></span><div id=footer><div style="width:800px;margin:0 auto"><ul id=footer-list></ul></div><div style=margin-top:15px><a href=https://www.programcreek.com/python><img alt="Program Creek" src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22342%22%20height=%2284%22%3E%3C/svg%3E" width=100 ezimgfmt="rs rscb13 src ng ngcb13" class=ezlazyload data-ezsrc=https://www.programcreek.com/common/static/images/pc-logo.png></a></div></div><noscript><img src="https://api.fouanalytics.com/api/noscript-1632lqsy2s4fklqsvsii.gif"></noscript><div id=uglipop_overlay_wrapper style=position:absolute;top:0;bottom:0;left:0;right:0;display:none></div><div id=uglipop_content_fixed style=position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);opacity:1;z-index:10000000;display:none></div><div class="textads banner-ads banner_ads ad-unit ad-zone ad-space adsbox sf-hidden" style=height:1px></div>